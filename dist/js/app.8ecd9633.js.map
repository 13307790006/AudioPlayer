{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?17f9","webpack:///./src/lib/OrbitControls.js","webpack:///./src/lib/dat.gui.module.js","webpack:///./src/lib/CopyShader.js","webpack:///./src/lib/Pass.js","webpack:///./src/lib/ShaderPass.js","webpack:///./src/lib/MaskPass.js","webpack:///./src/lib/EffectComposer.js","webpack:///./src/lib/RenderPass.js","webpack:///./src/lib/LuminosityHighPassShader.js","webpack:///./src/lib/UnrealBloomPass.js","webpack:///./src/lib/stats.module.js","webpack:///./src/components/range.js","webpack:///./src/components/node.js","webpack:///./src/components/randomRange.js","webpack:///./src/components/Triangle.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./static/audio.mp3"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","$refs","fileId","click","_v","ref","getAudio","staticRenderFns","OrbitControls","domElement","undefined","console","warn","document","error","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","clone","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","max","min","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","type","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","x","y","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","needsUpdate","keyCode","preventDefault","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","mouseAction","focus","button","ctrlKey","metaKey","shiftKey","addEventListener","stopPropagation","DOLLY_ROTATE","tabIndex","EventDispatcher","constructor","MapControls","___$insertStyle","css","style","createElement","setAttribute","innerHTML","head","appendChild","colorToString","color","forceCSSHex","colorFormat","__state","conversionName","toString","round","g","b","a","h","toFixed","str","hex","ARR_EACH","Array","forEach","ARR_SLICE","Common","BREAK","extend","each","arguments","obj","isObject","isUndefined","defaults","compose","toCall","args","itr","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","delayed","callNow","clearTimeout","toArray","isNull","isNaN","_isNaN","isArray","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","read","original","test","match","space","parseInt","write","SIX_CHAR_HEX","CSS_RGB","parseFloat","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","hi","floor","f","q","rgb_to_hsv","delta","NaN","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","_typeof","iterator","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","props","descriptor","configurable","writable","protoProps","staticProps","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","inherits","subClass","superClass","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","Color","Error","defineRGBComponent","component","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP","HTMLEvents","MouseEvents","KeyboardEvents","EVENT_MAP_INV","k","e","CSS_VALUE_PIXELS","cssValueToPixels","val","dom","makeSelectable","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","fakeEvent","eventType","pars","aux","params","className","evt","createEvent","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","altKey","charCode","initEvent","newBool","bool","attachEvent","unbind","detachEvent","addClass","classes","split","indexOf","join","replace","removeClass","removeAttribute","index","hasClass","RegExp","getWidth","getComputedStyle","width","getHeight","height","getOffset","el","offsetParent","offsetLeft","offsetTop","isActive","activeElement","href","BooleanController","_Controller","_this2","_this","onChange","setValue","__prev","__checkbox","checked","OptionController","opts","options","__select","map","opt","desiredValue","selectedIndex","StringController","__input","onBlur","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","log","abs","LN10","__precision","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","_NumberController","__truncationSuspended","prevY","attempted","onFinish","onMouseDrag","diff","i1","i2","o1","o2","NumberControllerSlider","bgRect","__background","getBoundingClientRect","__foreground","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","_ref2","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","background","linearGradient","hueGradient","outline","textAlign","fontWeight","textShadow","mismatch","flip","_flip","marginLeft","marginTop","toHexString","vendors","vendor","cssText","load","url","indoc","doc","link","rel","getElementsByTagName","inject","cssContent","injected","saveDialogContents","ControllerFactory","requestAnimationFrame","callback","requestAnimationFrame$1","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","body","hide","webkitTransform","layout","innerWidth","innerHeight","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","preset","scrollable","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","onClickTitle","resetWidth","root","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","stringify","getSaveObject","saveToLocalStorageIfPossible","gui","newDom","liBefore","li","removeListeners","markPresetModified","modified","__preset_select","augmentController","controller","__li","__gui","_options","nextSibling","nextElementSibling","remove","_add","before","factoryArgs","_nextSibling","_name","firstElementChild","listen","box","method","pc","pb","returned","oldName","wasListening","newController","borderLeftColor","isModified","recallSavedValue","matchedIndex","controllerMap","remembered","presetMap","concat","container","CLASS_CONTROLLER_ROW","location","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","__save_row","firstChild","gears","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","which","show","save","presetName","prompt","saveAs","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","w","getCurrentPreset","useInitialValues","savedValues","updateDisplays","controllerArray","toggleHide","CLASS_TOO_TALL","_keydownHandler","addColor","removeChild","destroy","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","close","node","offsetHeight","remember","GUI$1","CopyShader","uniforms","vertexShader","fragmentShader","Pass","needsSwap","clear","renderToScreen","assign","setSize","render","FullScreenQuad","camera","OrthographicCamera","geometry","PlaneBufferGeometry","material","_mesh","Mesh","renderer","ShaderPass","shader","textureID","ShaderMaterial","UniformsUtils","defines","fsQuad","writeBuffer","readBuffer","texture","setRenderTarget","autoClearColor","autoClearDepth","autoClearStencil","MaskPass","scene","writeValue","clearValue","context","getContext","buffers","setMask","depth","setLocked","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget","parameters","minFilter","LinearFilter","magFilter","format","RGBAFormat","stencilBuffer","size","getSize","_pixelRatio","getPixelRatio","_width","_height","WebGLRenderTarget","renderTarget1","renderTarget2","passes","copyPass","clock","Clock","swapBuffers","tmp","addPass","pass","insertPass","isLastEnabledPass","passIndex","deltaTime","getDelta","currentRenderTarget","getRenderTarget","maskActive","il","NOTEQUAL","effectiveWidth","effectiveHeight","setPixelRatio","pixelRatio","RenderPass","overrideMaterial","clearColor","clearAlpha","clearDepth","oldClearColor","oldClearAlpha","oldAutoClear","autoClear","getClearColor","getHex","getClearAlpha","setClearColor","LuminosityHighPassShader","shaderID","tDiffuse","luminosityThreshold","smoothWidth","defaultColor","defaultOpacity","UnrealBloomPass","resolution","strength","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","resy","renderTargetBright","generateMipmaps","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","materialHighPassFilter","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","bloomFactors","bloomTintColors","copyShader","copyUniforms","materialCopy","blending","AdditiveBlending","depthTest","depthWrite","transparent","basic","MeshBasicMaterial","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","NUM_MIPS","blurTexture1","blurTexture2","blurTexture3","blurTexture4","blurTexture5","dirtTexture","bloomStrength","bloomRadius","Stats","addPanel","panel","showPanel","id","children","beginTime","performance","Date","now","prevTime","frames","fpsPanel","Panel","msPanel","memory","memPanel","REVISION","begin","end","time","usedJSHeapSize","jsHeapSizeLimit","setMode","fg","bg","PR","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","canvas","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","drawImage","range","start","fromRight","ceil","baseRange","center","_range","cos","sin","newStrength","lastStrength","theStrength","targetRange","delay","randomRange","random","Triangle","speed","lineMaterial","lineDistance","cb","onDelete","startShow","showDistance","panelMaterial","THREE","panelGeometry","lineGeometry","vertices","faces","computeFaceNormals","computeVertexNormals","line","mesh","group","translateOnAxis","translate","rotateZ","rotate","updatePosition","z","axis","panelOpacity","endHide","delete","endShow","startHide","R","G","B","TrianglesBgColor","TrianglesLineColor","lineColor","positionZ","N","methods","onWindowResize","audioLines","audioBars","TriangleGroup","setInterval","addTriangle","audio","audioLoad","audioUrl","initLight","initControls","initGui","initBloomPass","initStats","animate","renderGeometries","res","updateCircle","barNodes","linesGroup","positionA","positionB","positions","AttributeA","AttributeB","Attribute","barLine","outLine","inLine","Triangles","filter","triangle","makeTriangle","barGroup","minGroup","rotation","exposure","bloomThreshold","bloomPass","composer","renderScene","stats","controls","analyser","arr","array","Delta","datGui","traverse","child","isMesh","isLine","light","castShadow","audioLoader","isPlaying","stop","setBuffer","AudioBuffer","setLoop","setVolume","play","objFile","FileReader","reader","readAsDataURL","files","onloadend","_that","mounted","Vue","use","VueRouter","routes","router","base","process","config","productionTip","App","$mount"],"mappings":"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","file":"js/app.8ecd9633.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"file-select-btn\",on:{\"click\":function($event){return _vm.$refs.fileId.click()}}},[_vm._v(\" 选择音乐 \"),_c('input',{ref:\"fileId\",staticClass:\"file-input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.getAudio}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n * @author ScieCode / http://github.com/sciecode\n */\n\n// import {\n//   EventDispatcher,\n//   MOUSE,\n//   Quaternion,\n//   Spherical,\n//   TOUCH,\n//   Vector2,\n//   Vector3,\n// } from \"./three.module.js\";\nimport {\n  EventDispatcher,\n  MOUSE,\n  Quaternion,\n  Spherical,\n  TOUCH,\n  Vector2,\n  Vector3,\n} from \"three\";\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function (object, domElement) {\n  if (domElement === undefined)\n    console.warn(\n      'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.'\n    );\n  if (domElement === document)\n    console.error(\n      'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n    );\n\n  this.object = object;\n  this.domElement = domElement;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = -Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.05;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n  // Mouse buttons\n  this.mouseButtons = {\n    LEFT: MOUSE.ROTATE,\n    MIDDLE: MOUSE.DOLLY,\n    RIGHT: MOUSE.PAN,\n  };\n\n  // Touch fingers\n  this.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n    return spherical.theta;\n  };\n\n  this.saveState = function () {\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function () {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n\n    scope.update();\n\n    state = STATE.NONE;\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = (function () {\n    var offset = new Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new Quaternion().setFromUnitVectors(\n      object.up,\n      new Vector3(0, 1, 0)\n    );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new Vector3();\n    var lastQuaternion = new Quaternion();\n\n    return function update() {\n      var position = scope.object.position;\n\n      offset.copy(position).sub(scope.target);\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion(quat);\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      if (scope.enableDamping) {\n        spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n        spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n      } else {\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi;\n      }\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max(\n        scope.minAzimuthAngle,\n        Math.min(scope.maxAzimuthAngle, spherical.theta)\n      );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max(\n        scope.minPolarAngle,\n        Math.min(scope.maxPolarAngle, spherical.phi)\n      );\n\n      spherical.makeSafe();\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max(\n        scope.minDistance,\n        Math.min(scope.maxDistance, spherical.radius)\n      );\n\n      // move target to panned location\n\n      if (scope.enableDamping === true) {\n        scope.target.addScaledVector(panOffset, scope.dampingFactor);\n      } else {\n        scope.target.add(panOffset);\n      }\n\n      offset.setFromSpherical(spherical);\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion(quatInverse);\n\n      position.copy(scope.target).add(offset);\n\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n\n        panOffset.multiplyScalar(1 - scope.dampingFactor);\n      } else {\n        sphericalDelta.set(0, 0, 0);\n\n        panOffset.set(0, 0, 0);\n      }\n\n      scale = 1;\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (\n        zoomChanged ||\n        lastPosition.distanceToSquared(scope.object.position) > EPS ||\n        8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS\n      ) {\n        scope.dispatchEvent(changeEvent);\n\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n\n        return true;\n      }\n\n      return false;\n    };\n  })();\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener(\"contextmenu\", onContextMenu, false);\n    scope.domElement.removeEventListener(\"mousedown\", onMouseDown, false);\n    scope.domElement.removeEventListener(\"wheel\", onMouseWheel, false);\n\n    scope.domElement.removeEventListener(\"touchstart\", onTouchStart, false);\n    scope.domElement.removeEventListener(\"touchend\", onTouchEnd, false);\n    scope.domElement.removeEventListener(\"touchmove\", onTouchMove, false);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    scope.domElement.removeEventListener(\"keydown\", onKeyDown, false);\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = { type: \"change\" };\n  var startEvent = { type: \"start\" };\n  var endEvent = { type: \"end\" };\n\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_PAN: 4,\n    TOUCH_DOLLY_PAN: 5,\n    TOUCH_DOLLY_ROTATE: 6,\n  };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new Spherical();\n  var sphericalDelta = new Spherical();\n\n  var scale = 1;\n  var panOffset = new Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new Vector2();\n  var rotateEnd = new Vector2();\n  var rotateDelta = new Vector2();\n\n  var panStart = new Vector2();\n  var panEnd = new Vector2();\n  var panDelta = new Vector2();\n\n  var dollyStart = new Vector2();\n  var dollyEnd = new Vector2();\n  var dollyDelta = new Vector2();\n\n  function getAutoRotationAngle() {\n    return ((2 * Math.PI) / 60 / 60) * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = (function () {\n    var v = new Vector3();\n\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n      v.multiplyScalar(-distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  var panUp = (function () {\n    var v = new Vector3();\n\n    return function panUp(distance, objectMatrix) {\n      if (scope.screenSpacePanning === true) {\n        v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.crossVectors(scope.object.up, v);\n      }\n\n      v.multiplyScalar(distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = (function () {\n    var offset = new Vector3();\n\n    return function pan(deltaX, deltaY) {\n      var element = scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan(((scope.object.fov / 2) * Math.PI) / 180.0);\n\n        // we use only clientHeight here so aspect ratio does not distort speed\n        panLeft(\n          (2 * deltaX * targetDistance) / element.clientHeight,\n          scope.object.matrix\n        );\n        panUp(\n          (2 * deltaY * targetDistance) / element.clientHeight,\n          scope.object.matrix\n        );\n      } else if (scope.object.isOrthographicCamera) {\n        // orthographic\n        panLeft(\n          (deltaX * (scope.object.right - scope.object.left)) /\n            scope.object.zoom /\n            element.clientWidth,\n          scope.object.matrix\n        );\n        panUp(\n          (deltaY * (scope.object.top - scope.object.bottom)) /\n            scope.object.zoom /\n            element.clientHeight,\n          scope.object.matrix\n        );\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn(\n          \"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"\n        );\n        scope.enablePan = false;\n      }\n    };\n  })();\n\n  function dollyOut(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom * dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyIn(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom / dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate(event) {\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    rotateEnd.set(event.clientX, event.clientY);\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element = scope.domElement;\n\n    rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight); // yes, height\n\n    rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    dollyEnd.set(event.clientX, event.clientY);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyOut(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyIn(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    panEnd.set(event.clientX, event.clientY);\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleMouseUp(/*event*/) {\n    // no-op\n  }\n\n  function handleMouseWheel(event) {\n    if (event.deltaY < 0) {\n      dollyIn(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyOut(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    var needsUpdate = false;\n\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        needsUpdate = true;\n        break;\n    }\n\n    if (needsUpdate) {\n      // prevent the browser from scrolling on cursor keys\n      event.preventDefault();\n\n      scope.update();\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    if (event.touches.length == 1) {\n      rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      rotateStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartPan(event) {\n    if (event.touches.length == 1) {\n      panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panStart.set(x, y);\n    }\n  }\n\n  function handleTouchStartDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    var distance = Math.sqrt(dx * dx + dy * dy);\n\n    dollyStart.set(0, distance);\n  }\n\n  function handleTouchStartDollyPan(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n\n    if (scope.enablePan) handleTouchStartPan(event);\n  }\n\n  function handleTouchStartDollyRotate(event) {\n    if (scope.enableZoom) handleTouchStartDolly(event);\n\n    if (scope.enableRotate) handleTouchStartRotate(event);\n  }\n\n  function handleTouchMoveRotate(event) {\n    if (event.touches.length == 1) {\n      rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      rotateEnd.set(x, y);\n    }\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element = scope.domElement;\n\n    rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight); // yes, height\n\n    rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n  }\n\n  function handleTouchMovePan(event) {\n    if (event.touches.length == 1) {\n      panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    } else {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panEnd.set(x, y);\n    }\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n  }\n\n  function handleTouchMoveDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    var distance = Math.sqrt(dx * dx + dy * dy);\n\n    dollyEnd.set(0, distance);\n\n    dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n\n    dollyOut(dollyDelta.y);\n\n    dollyStart.copy(dollyEnd);\n  }\n\n  function handleTouchMoveDollyPan(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n\n    if (scope.enablePan) handleTouchMovePan(event);\n  }\n\n  function handleTouchMoveDollyRotate(event) {\n    if (scope.enableZoom) handleTouchMoveDolly(event);\n\n    if (scope.enableRotate) handleTouchMoveRotate(event);\n  }\n\n  function handleTouchEnd(/*event*/) {\n    // no-op\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return;\n\n    // Prevent the browser from scrolling.\n    event.preventDefault();\n\n    // Manually set the focus since calling preventDefault above\n    // prevents the browser from setting it automatically.\n\n    scope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n    var mouseAction;\n\n    switch (event.button) {\n      case 0:\n        mouseAction = scope.mouseButtons.LEFT;\n        break;\n\n      case 1:\n        mouseAction = scope.mouseButtons.MIDDLE;\n        break;\n\n      case 2:\n        mouseAction = scope.mouseButtons.RIGHT;\n        break;\n\n      default:\n        mouseAction = -1;\n    }\n\n    switch (mouseAction) {\n      case MOUSE.DOLLY:\n        if (scope.enableZoom === false) return;\n\n        handleMouseDownDolly(event);\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case MOUSE.ROTATE:\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\n          if (scope.enablePan === false) return;\n\n          handleMouseDownPan(event);\n\n          state = STATE.PAN;\n        } else {\n          if (scope.enableRotate === false) return;\n\n          handleMouseDownRotate(event);\n\n          state = STATE.ROTATE;\n        }\n\n        break;\n\n      case MOUSE.PAN:\n        if (event.ctrlKey || event.metaKey || event.shiftKey) {\n          if (scope.enableRotate === false) return;\n\n          handleMouseDownRotate(event);\n\n          state = STATE.ROTATE;\n        } else {\n          if (scope.enablePan === false) return;\n\n          handleMouseDownPan(event);\n\n          state = STATE.PAN;\n        }\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      document.addEventListener(\"mousemove\", onMouseMove, false);\n      document.addEventListener(\"mouseup\", onMouseUp, false);\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (state) {\n      case STATE.ROTATE:\n        if (scope.enableRotate === false) return;\n\n        handleMouseMoveRotate(event);\n\n        break;\n\n      case STATE.DOLLY:\n        if (scope.enableZoom === false) return;\n\n        handleMouseMoveDolly(event);\n\n        break;\n\n      case STATE.PAN:\n        if (scope.enablePan === false) return;\n\n        handleMouseMovePan(event);\n\n        break;\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n\n    handleMouseUp(event);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableZoom === false ||\n      (state !== STATE.NONE && state !== STATE.ROTATE)\n    )\n      return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    scope.dispatchEvent(startEvent);\n\n    handleMouseWheel(event);\n\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableKeys === false ||\n      scope.enablePan === false\n    )\n      return;\n\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault(); // prevent scrolling\n\n    switch (event.touches.length) {\n      case 1:\n        switch (scope.touches.ONE) {\n          case TOUCH.ROTATE:\n            if (scope.enableRotate === false) return;\n\n            handleTouchStartRotate(event);\n\n            state = STATE.TOUCH_ROTATE;\n\n            break;\n\n          case TOUCH.PAN:\n            if (scope.enablePan === false) return;\n\n            handleTouchStartPan(event);\n\n            state = STATE.TOUCH_PAN;\n\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      case 2:\n        switch (scope.touches.TWO) {\n          case TOUCH.DOLLY_PAN:\n            if (scope.enableZoom === false && scope.enablePan === false) return;\n\n            handleTouchStartDollyPan(event);\n\n            state = STATE.TOUCH_DOLLY_PAN;\n\n            break;\n\n          case TOUCH.DOLLY_ROTATE:\n            if (scope.enableZoom === false && scope.enableRotate === false)\n              return;\n\n            handleTouchStartDollyRotate(event);\n\n            state = STATE.TOUCH_DOLLY_ROTATE;\n\n            break;\n\n          default:\n            state = STATE.NONE;\n        }\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault(); // prevent scrolling\n    event.stopPropagation();\n\n    switch (state) {\n      case STATE.TOUCH_ROTATE:\n        if (scope.enableRotate === false) return;\n\n        handleTouchMoveRotate(event);\n\n        scope.update();\n\n        break;\n\n      case STATE.TOUCH_PAN:\n        if (scope.enablePan === false) return;\n\n        handleTouchMovePan(event);\n\n        scope.update();\n\n        break;\n\n      case STATE.TOUCH_DOLLY_PAN:\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n\n        handleTouchMoveDollyPan(event);\n\n        scope.update();\n\n        break;\n\n      case STATE.TOUCH_DOLLY_ROTATE:\n        if (scope.enableZoom === false && scope.enableRotate === false) return;\n\n        handleTouchMoveDollyRotate(event);\n\n        scope.update();\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === false) return;\n\n    handleTouchEnd(event);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n  }\n\n  //\n\n  scope.domElement.addEventListener(\"contextmenu\", onContextMenu, false);\n\n  scope.domElement.addEventListener(\"mousedown\", onMouseDown, false);\n  scope.domElement.addEventListener(\"wheel\", onMouseWheel, false);\n\n  scope.domElement.addEventListener(\"touchstart\", onTouchStart, false);\n  scope.domElement.addEventListener(\"touchend\", onTouchEnd, false);\n  scope.domElement.addEventListener(\"touchmove\", onTouchMove, false);\n\n  scope.domElement.addEventListener(\"keydown\", onKeyDown, false);\n\n  // make sure element can receive keys.\n\n  if (scope.domElement.tabIndex === -1) {\n    scope.domElement.tabIndex = 0;\n  }\n\n  // force an update at start\n\n  this.update();\n};\n\nOrbitControls.prototype = Object.create(EventDispatcher.prototype);\nOrbitControls.prototype.constructor = OrbitControls;\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function (object, domElement) {\n  OrbitControls.call(this, object, domElement);\n\n  this.mouseButtons.LEFT = MOUSE.PAN;\n  this.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n  this.touches.ONE = TOUCH.PAN;\n  this.touches.TWO = TOUCH.DOLLY_ROTATE;\n};\n\nMapControls.prototype = Object.create(EventDispatcher.prototype);\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction ___$insertStyle( css ) {\n\n\tif ( ! css ) {\n\n\t\treturn;\n\n\t}\n\tif ( typeof window === 'undefined' ) {\n\n\t\treturn;\n\n\t}\n\n\tvar style = document.createElement( 'style' );\n\n\tstyle.setAttribute( 'type', 'text/css' );\n\tstyle.innerHTML = css;\n\tdocument.head.appendChild( style );\n\n\treturn css;\n\n}\n\nfunction colorToString( color, forceCSSHex ) {\n\n\tvar colorFormat = color.__state.conversionName.toString();\n\tvar r = Math.round( color.r );\n\tvar g = Math.round( color.g );\n\tvar b = Math.round( color.b );\n\tvar a = color.a;\n\tvar h = Math.round( color.h );\n\tvar s = color.s.toFixed( 1 );\n\tvar v = color.v.toFixed( 1 );\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\n\n\t\tvar str = color.hex.toString( 16 );\n\t\twhile ( str.length < 6 ) {\n\n\t\t\tstr = '0' + str;\n\n\t\t}\n\t\treturn '#' + str;\n\n\t} else if ( colorFormat === 'CSS_RGB' ) {\n\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\n\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\n\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n\t} else if ( colorFormat === 'HEX' ) {\n\n\t\treturn '0x' + color.hex.toString( 16 );\n\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\n\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\n\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\n\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\n\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\n\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\n\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\n\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\n\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\n\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\n\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n\n\t}\n\treturn 'unknown format';\n\n}\n\nvar ARR_EACH = Array.prototype.forEach;\nvar ARR_SLICE = Array.prototype.slice;\nvar Common = {\n\tBREAK: {},\n\textend: function extend( target ) {\n\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\n\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\n\n\t\t\t\t\ttarget[ key ] = obj[ key ];\n\n\t\t\t\t}\n\n\t\t\t}.bind( this ) );\n\n\t\t}, this );\n\t\treturn target;\n\n\t},\n\tdefaults: function defaults( target ) {\n\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\n\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\n\t\t\tkeys.forEach( function ( key ) {\n\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\n\n\t\t\t\t\ttarget[ key ] = obj[ key ];\n\n\t\t\t\t}\n\n\t\t\t}.bind( this ) );\n\n\t\t}, this );\n\t\treturn target;\n\n\t},\n\tcompose: function compose() {\n\n\t\tvar toCall = ARR_SLICE.call( arguments );\n\t\treturn function () {\n\n\t\t\tvar args = ARR_SLICE.call( arguments );\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\n\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\n\n\t\t\t}\n\t\t\treturn args[ 0 ];\n\n\t\t};\n\n\t},\n\teach: function each( obj, itr, scope ) {\n\n\t\tif ( ! obj ) {\n\n\t\t\treturn;\n\n\t\t}\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\n\n\t\t\tobj.forEach( itr, scope );\n\n\t\t} else if ( obj.length === obj.length + 0 ) {\n\n\t\t\tvar key = void 0;\n\t\t\tvar l = void 0;\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\n\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( var _key in obj ) {\n\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\tdefer: function defer( fnc ) {\n\n\t\tsetTimeout( fnc, 0 );\n\n\t},\n\tdebounce: function debounce( func, threshold, callImmediately ) {\n\n\t\tvar timeout = void 0;\n\t\treturn function () {\n\n\t\t\tvar obj = this;\n\t\t\tvar args = arguments;\n\t\t\tfunction delayed() {\n\n\t\t\t\ttimeout = null;\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\n\n\t\t\t}\n\t\t\tvar callNow = callImmediately || ! timeout;\n\t\t\tclearTimeout( timeout );\n\t\t\ttimeout = setTimeout( delayed, threshold );\n\t\t\tif ( callNow ) {\n\n\t\t\t\tfunc.apply( obj, args );\n\n\t\t\t}\n\n\t\t};\n\n\t},\n\ttoArray: function toArray( obj ) {\n\n\t\tif ( obj.toArray ) return obj.toArray();\n\t\treturn ARR_SLICE.call( obj );\n\n\t},\n\tisUndefined: function isUndefined( obj ) {\n\n\t\treturn obj === undefined;\n\n\t},\n\tisNull: function isNull( obj ) {\n\n\t\treturn obj === null;\n\n\t},\n\tisNaN: function ( _isNaN ) {\n\n\t\tfunction isNaN() {\n\n\t\t\treturn _isNaN.apply( this, arguments );\n\n\t\t}\n\t\tisNaN.toString = function () {\n\n\t\t\treturn _isNaN.toString();\n\n\t\t};\n\t\treturn isNaN;\n\n\t}( function ( obj ) {\n\n\t\treturn isNaN( obj );\n\n\t} ),\n\tisArray: Array.isArray || function ( obj ) {\n\n\t\treturn obj.constructor === Array;\n\n\t},\n\tisObject: function isObject( obj ) {\n\n\t\treturn obj === Object( obj );\n\n\t},\n\tisNumber: function isNumber( obj ) {\n\n\t\treturn obj === obj + 0;\n\n\t},\n\tisString: function isString( obj ) {\n\n\t\treturn obj === obj + '';\n\n\t},\n\tisBoolean: function isBoolean( obj ) {\n\n\t\treturn obj === false || obj === true;\n\n\t},\n\tisFunction: function isFunction( obj ) {\n\n\t\treturn obj instanceof Function;\n\n\t}\n};\n\nvar INTERPRETATIONS = [\n\t{\n\t\tlitmus: Common.isString,\n\t\tconversions: {\n\t\t\tTHREE_CHAR_HEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tSIX_CHAR_HEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tCSS_RGB: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t},\n\t\t\tCSS_RGBA: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\n\t\t\t\t\tif ( test === null ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: colorToString\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isNumber,\n\t\tconversions: {\n\t\t\tHEX: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'HEX',\n\t\t\t\t\t\thex: original,\n\t\t\t\t\t\tconversionName: 'HEX'\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn color.hex;\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isArray,\n\t\tconversions: {\n\t\t\tRGB_ARRAY: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( original.length !== 3 ) {\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: original[ 0 ],\n\t\t\t\t\t\tg: original[ 1 ],\n\t\t\t\t\t\tb: original[ 2 ]\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tRGBA_ARRAY: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( original.length !== 4 ) return false;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\tr: original[ 0 ],\n\t\t\t\t\t\tg: original[ 1 ],\n\t\t\t\t\t\tb: original[ 2 ],\n\t\t\t\t\t\ta: original[ 3 ]\n\t\t\t\t\t};\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tlitmus: Common.isObject,\n\t\tconversions: {\n\t\t\tRGBA_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\t\tr: original.r,\n\t\t\t\t\t\t\tg: original.g,\n\t\t\t\t\t\t\tb: original.b,\n\t\t\t\t\t\t\ta: original.a\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tr: color.r,\n\t\t\t\t\t\tg: color.g,\n\t\t\t\t\t\tb: color.b,\n\t\t\t\t\t\ta: color.a\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tRGB_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'RGB',\n\t\t\t\t\t\t\tr: original.r,\n\t\t\t\t\t\t\tg: original.g,\n\t\t\t\t\t\t\tb: original.b\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tr: color.r,\n\t\t\t\t\t\tg: color.g,\n\t\t\t\t\t\tb: color.b\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tHSVA_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'HSV',\n\t\t\t\t\t\t\th: original.h,\n\t\t\t\t\t\t\ts: original.s,\n\t\t\t\t\t\t\tv: original.v,\n\t\t\t\t\t\t\ta: original.a\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\th: color.h,\n\t\t\t\t\t\ts: color.s,\n\t\t\t\t\t\tv: color.v,\n\t\t\t\t\t\ta: color.a\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tHSV_OBJ: {\n\t\t\t\tread: function read( original ) {\n\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tspace: 'HSV',\n\t\t\t\t\t\t\th: original.h,\n\t\t\t\t\t\t\ts: original.s,\n\t\t\t\t\t\t\tv: original.v\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\n\t\t\t\t},\n\t\t\t\twrite: function write( color ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\th: color.h,\n\t\t\t\t\t\ts: color.s,\n\t\t\t\t\t\tv: color.v\n\t\t\t\t\t};\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} ];\nvar result = void 0;\nvar toReturn = void 0;\nvar interpret = function interpret() {\n\n\ttoReturn = false;\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\n\tCommon.each( INTERPRETATIONS, function ( family ) {\n\n\t\tif ( family.litmus( original ) ) {\n\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\n\n\t\t\t\tresult = conversion.read( original );\n\t\t\t\tif ( toReturn === false && result !== false ) {\n\n\t\t\t\t\ttoReturn = result;\n\t\t\t\t\tresult.conversionName = conversionName;\n\t\t\t\t\tresult.conversion = conversion;\n\t\t\t\t\treturn Common.BREAK;\n\n\t\t\t\t}\n\n\t\t\t} );\n\t\t\treturn Common.BREAK;\n\n\t\t}\n\n\t} );\n\treturn toReturn;\n\n};\n\nvar tmpComponent = void 0;\nvar ColorMath = {\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\n\n\t\tvar hi = Math.floor( h / 60 ) % 6;\n\t\tvar f = h / 60 - Math.floor( h / 60 );\n\t\tvar p = v * ( 1.0 - s );\n\t\tvar q = v * ( 1.0 - f * s );\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\n\t\treturn {\n\t\t\tr: c[ 0 ] * 255,\n\t\t\tg: c[ 1 ] * 255,\n\t\t\tb: c[ 2 ] * 255\n\t\t};\n\n\t},\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\n\n\t\tvar min = Math.min( r, g, b );\n\t\tvar max = Math.max( r, g, b );\n\t\tvar delta = max - min;\n\t\tvar h = void 0;\n\t\tvar s = void 0;\n\t\tif ( max !== 0 ) {\n\n\t\t\ts = delta / max;\n\n\t\t} else {\n\n\t\t\treturn {\n\t\t\t\th: NaN,\n\t\t\t\ts: 0,\n\t\t\t\tv: 0\n\t\t\t};\n\n\t\t}\n\t\tif ( r === max ) {\n\n\t\t\th = ( g - b ) / delta;\n\n\t\t} else if ( g === max ) {\n\n\t\t\th = 2 + ( b - r ) / delta;\n\n\t\t} else {\n\n\t\t\th = 4 + ( r - g ) / delta;\n\n\t\t}\n\t\th /= 6;\n\t\tif ( h < 0 ) {\n\n\t\t\th += 1;\n\n\t\t}\n\t\treturn {\n\t\t\th: h * 360,\n\t\t\ts: s,\n\t\t\tv: max / 255\n\t\t};\n\n\t},\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\n\n\t\tvar hex = this.hex_with_component( 0, 2, r );\n\t\thex = this.hex_with_component( hex, 1, g );\n\t\thex = this.hex_with_component( hex, 0, b );\n\t\treturn hex;\n\n\t},\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\n\n\t\treturn hex >> componentIndex * 8 & 0xFF;\n\n\t},\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\n\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\n\n\t}\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\n\n\treturn typeof obj;\n\n} : function ( obj ) {\n\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function ( instance, Constructor ) {\n\n\tif ( ! ( instance instanceof Constructor ) ) {\n\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\n\n\t}\n\n};\n\nvar createClass = function () {\n\n\tfunction defineProperties( target, props ) {\n\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\n\n\t\t\tvar descriptor = props[ i ];\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\n\t\t\tdescriptor.configurable = true;\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\n\n\t\t}\n\n\t}\n\n\treturn function ( Constructor, protoProps, staticProps ) {\n\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\n\t\treturn Constructor;\n\n\t};\n\n}();\n\n\n\n\n\n\n\nvar get = function get( object, property, receiver ) {\n\n\tif ( object === null ) object = Function.prototype;\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\n\n\tif ( desc === undefined ) {\n\n\t\tvar parent = Object.getPrototypeOf( object );\n\n\t\tif ( parent === null ) {\n\n\t\t\treturn undefined;\n\n\t\t} else {\n\n\t\t\treturn get( parent, property, receiver );\n\n\t\t}\n\n\t} else if ( \"value\" in desc ) {\n\n\t\treturn desc.value;\n\n\t} else {\n\n\t\tvar getter = desc.get;\n\n\t\tif ( getter === undefined ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn getter.call( receiver );\n\n\t}\n\n};\n\nvar inherits = function ( subClass, superClass ) {\n\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\n\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\n\n\t}\n\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\n\t\tconstructor: {\n\t\t\tvalue: subClass,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t} );\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\n\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function ( self, call ) {\n\n\tif ( ! self ) {\n\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\n\n\t}\n\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\n\n};\n\nvar Color = function () {\n\n\tfunction Color() {\n\n\t\tclassCallCheck( this, Color );\n\t\tthis.__state = interpret.apply( this, arguments );\n\t\tif ( this.__state === false ) {\n\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\n\n\t\t}\n\t\tthis.__state.a = this.__state.a || 1;\n\n\t}\n\tcreateClass( Color, [ {\n\t\tkey: 'toString',\n\t\tvalue: function toString() {\n\n\t\t\treturn colorToString( this );\n\n\t\t}\n\t}, {\n\t\tkey: 'toHexString',\n\t\tvalue: function toHexString() {\n\n\t\t\treturn colorToString( this, true );\n\n\t\t}\n\t}, {\n\t\tkey: 'toOriginal',\n\t\tvalue: function toOriginal() {\n\n\t\t\treturn this.__state.conversion.write( this );\n\n\t\t}\n\t} ] );\n\treturn Color;\n\n}();\nfunction defineRGBComponent( target, component, componentHexIndex ) {\n\n\tObject.defineProperty( target, component, {\n\t\tget: function get$$1() {\n\n\t\t\tif ( this.__state.space === 'RGB' ) {\n\n\t\t\t\treturn this.__state[ component ];\n\n\t\t\t}\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\n\t\t\treturn this.__state[ component ];\n\n\t\t},\n\t\tset: function set$$1( v ) {\n\n\t\t\tif ( this.__state.space !== 'RGB' ) {\n\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\n\t\t\t\tthis.__state.space = 'RGB';\n\n\t\t\t}\n\t\t\tthis.__state[ component ] = v;\n\n\t\t}\n\t} );\n\n}\nfunction defineHSVComponent( target, component ) {\n\n\tObject.defineProperty( target, component, {\n\t\tget: function get$$1() {\n\n\t\t\tif ( this.__state.space === 'HSV' ) {\n\n\t\t\t\treturn this.__state[ component ];\n\n\t\t\t}\n\t\t\tColor.recalculateHSV( this );\n\t\t\treturn this.__state[ component ];\n\n\t\t},\n\t\tset: function set$$1( v ) {\n\n\t\t\tif ( this.__state.space !== 'HSV' ) {\n\n\t\t\t\tColor.recalculateHSV( this );\n\t\t\t\tthis.__state.space = 'HSV';\n\n\t\t\t}\n\t\t\tthis.__state[ component ] = v;\n\n\t\t}\n\t} );\n\n}\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\n\n\tif ( color.__state.space === 'HEX' ) {\n\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\n\n\t} else if ( color.__state.space === 'HSV' ) {\n\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\n\n\t} else {\n\n\t\tthrow new Error( 'Corrupted color state' );\n\n\t}\n\n};\nColor.recalculateHSV = function ( color ) {\n\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\n\tCommon.extend( color.__state, {\n\t\ts: result.s,\n\t\tv: result.v\n\t} );\n\tif ( ! Common.isNaN( result.h ) ) {\n\n\t\tcolor.__state.h = result.h;\n\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\n\n\t\tcolor.__state.h = 0;\n\n\t}\n\n};\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\ndefineRGBComponent( Color.prototype, 'r', 2 );\ndefineRGBComponent( Color.prototype, 'g', 1 );\ndefineRGBComponent( Color.prototype, 'b', 0 );\ndefineHSVComponent( Color.prototype, 'h' );\ndefineHSVComponent( Color.prototype, 's' );\ndefineHSVComponent( Color.prototype, 'v' );\nObject.defineProperty( Color.prototype, 'a', {\n\tget: function get$$1() {\n\n\t\treturn this.__state.a;\n\n\t},\n\tset: function set$$1( v ) {\n\n\t\tthis.__state.a = v;\n\n\t}\n} );\nObject.defineProperty( Color.prototype, 'hex', {\n\tget: function get$$1() {\n\n\t\tif ( this.__state.space !== 'HEX' ) {\n\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\n\t\t\tthis.__state.space = 'HEX';\n\n\t\t}\n\t\treturn this.__state.hex;\n\n\t},\n\tset: function set$$1( v ) {\n\n\t\tthis.__state.space = 'HEX';\n\t\tthis.__state.hex = v;\n\n\t}\n} );\n\nvar Controller = function () {\n\n\tfunction Controller( object, property ) {\n\n\t\tclassCallCheck( this, Controller );\n\t\tthis.initialValue = object[ property ];\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.object = object;\n\t\tthis.property = property;\n\t\tthis.__onChange = undefined;\n\t\tthis.__onFinishChange = undefined;\n\n\t}\n\tcreateClass( Controller, [ {\n\t\tkey: 'onChange',\n\t\tvalue: function onChange( fnc ) {\n\n\t\t\tthis.__onChange = fnc;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'onFinishChange',\n\t\tvalue: function onFinishChange( fnc ) {\n\n\t\t\tthis.__onFinishChange = fnc;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( newValue ) {\n\n\t\t\tthis.object[ this.property ] = newValue;\n\t\t\tif ( this.__onChange ) {\n\n\t\t\t\tthis.__onChange.call( this, newValue );\n\n\t\t\t}\n\t\t\tthis.updateDisplay();\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'getValue',\n\t\tvalue: function getValue() {\n\n\t\t\treturn this.object[ this.property ];\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'isModified',\n\t\tvalue: function isModified() {\n\n\t\t\treturn this.initialValue !== this.getValue();\n\n\t\t}\n\t} ] );\n\treturn Controller;\n\n}();\n\nvar EVENT_MAP = {\n\tHTMLEvents: [ 'change' ],\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\n\tKeyboardEvents: [ 'keydown' ]\n};\nvar EVENT_MAP_INV = {};\nCommon.each( EVENT_MAP, function ( v, k ) {\n\n\tCommon.each( v, function ( e ) {\n\n\t\tEVENT_MAP_INV[ e ] = k;\n\n\t} );\n\n} );\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\nfunction cssValueToPixels( val ) {\n\n\tif ( val === '0' || Common.isUndefined( val ) ) {\n\n\t\treturn 0;\n\n\t}\n\tvar match = val.match( CSS_VALUE_PIXELS );\n\tif ( ! Common.isNull( match ) ) {\n\n\t\treturn parseFloat( match[ 1 ] );\n\n\t}\n\treturn 0;\n\n}\nvar dom = {\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\n\n\t\tif ( elem === undefined || elem.style === undefined ) return;\n\t\telem.onselectstart = selectable ? function () {\n\n\t\t\treturn false;\n\n\t\t} : function () {};\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n\t\telem.unselectable = selectable ? 'on' : 'off';\n\n\t},\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\n\n\t\tvar vertical = vert;\n\t\tvar horizontal = hor;\n\t\tif ( Common.isUndefined( horizontal ) ) {\n\n\t\t\thorizontal = true;\n\n\t\t}\n\t\tif ( Common.isUndefined( vertical ) ) {\n\n\t\t\tvertical = true;\n\n\t\t}\n\t\telem.style.position = 'absolute';\n\t\tif ( horizontal ) {\n\n\t\t\telem.style.left = 0;\n\t\t\telem.style.right = 0;\n\n\t\t}\n\t\tif ( vertical ) {\n\n\t\t\telem.style.top = 0;\n\t\t\telem.style.bottom = 0;\n\n\t\t}\n\n\t},\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\n\n\t\tvar params = pars || {};\n\t\tvar className = EVENT_MAP_INV[ eventType ];\n\t\tif ( ! className ) {\n\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\n\n\t\t}\n\t\tvar evt = document.createEvent( className );\n\t\tswitch ( className ) {\n\n\t\t\tcase 'MouseEvents':\n\t\t\t{\n\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\n\t\t\t\t\t0,\n\t\t\t\t\tclientX,\n\t\t\t\t\tclientY,\n\t\t\t\t\tfalse, false, false, false, 0, null );\n\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tcase 'KeyboardEvents':\n\t\t\t{\n\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\n\t\t\t\tCommon.defaults( params, {\n\t\t\t\t\tcancelable: true,\n\t\t\t\t\tctrlKey: false,\n\t\t\t\t\taltKey: false,\n\t\t\t\t\tshiftKey: false,\n\t\t\t\t\tmetaKey: false,\n\t\t\t\t\tkeyCode: undefined,\n\t\t\t\t\tcharCode: undefined\n\t\t\t\t} );\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\n\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tdefault:\n\t\t\t{\n\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\t\tCommon.defaults( evt, aux );\n\t\telem.dispatchEvent( evt );\n\n\t},\n\tbind: function bind( elem, event, func, newBool ) {\n\n\t\tvar bool = newBool || false;\n\t\tif ( elem.addEventListener ) {\n\n\t\t\telem.addEventListener( event, func, bool );\n\n\t\t} else if ( elem.attachEvent ) {\n\n\t\t\telem.attachEvent( 'on' + event, func );\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\tunbind: function unbind( elem, event, func, newBool ) {\n\n\t\tvar bool = newBool || false;\n\t\tif ( elem.removeEventListener ) {\n\n\t\t\telem.removeEventListener( event, func, bool );\n\n\t\t} else if ( elem.detachEvent ) {\n\n\t\t\telem.detachEvent( 'on' + event, func );\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\taddClass: function addClass( elem, className ) {\n\n\t\tif ( elem.className === undefined ) {\n\n\t\t\telem.className = className;\n\n\t\t} else if ( elem.className !== className ) {\n\n\t\t\tvar classes = elem.className.split( / +/ );\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\n\n\t\t\t\tclasses.push( className );\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\n\n\t\t\t}\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\tremoveClass: function removeClass( elem, className ) {\n\n\t\tif ( className ) {\n\n\t\t\tif ( elem.className === className ) {\n\n\t\t\t\telem.removeAttribute( 'class' );\n\n\t\t\t} else {\n\n\t\t\t\tvar classes = elem.className.split( / +/ );\n\t\t\t\tvar index = classes.indexOf( className );\n\t\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\t\tclasses.splice( index, 1 );\n\t\t\t\t\telem.className = classes.join( ' ' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\telem.className = undefined;\n\n\t\t}\n\t\treturn dom;\n\n\t},\n\thasClass: function hasClass( elem, className ) {\n\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\n\n\t},\n\tgetWidth: function getWidth( elem ) {\n\n\t\tvar style = getComputedStyle( elem );\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\n\n\t},\n\tgetHeight: function getHeight( elem ) {\n\n\t\tvar style = getComputedStyle( elem );\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\n\n\t},\n\tgetOffset: function getOffset( el ) {\n\n\t\tvar elem = el;\n\t\tvar offset = { left: 0, top: 0 };\n\t\tif ( elem.offsetParent ) {\n\n\t\t\tdo {\n\n\t\t\t\toffset.left += elem.offsetLeft;\n\t\t\t\toffset.top += elem.offsetTop;\n\t\t\t\telem = elem.offsetParent;\n\n\t\t\t} while ( elem );\n\n\t\t}\n\t\treturn offset;\n\n\t},\n\tisActive: function isActive( elem ) {\n\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\n\n\t}\n};\n\nvar BooleanController = function ( _Controller ) {\n\n\tinherits( BooleanController, _Controller );\n\tfunction BooleanController( object, property ) {\n\n\t\tclassCallCheck( this, BooleanController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\t_this2.__prev = _this2.getValue();\n\t\t_this2.__checkbox = document.createElement( 'input' );\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\n\t\tfunction onChange() {\n\n\t\t\t_this.setValue( ! _this.__prev );\n\n\t\t}\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\n\t\t_this2.updateDisplay();\n\t\treturn _this2;\n\n\t}\n\tcreateClass( BooleanController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\t\t\tthis.__prev = this.getValue();\n\t\t\treturn toReturn;\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( this.getValue() === true ) {\n\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\n\t\t\t\tthis.__checkbox.checked = true;\n\t\t\t\tthis.__prev = true;\n\n\t\t\t} else {\n\n\t\t\t\tthis.__checkbox.checked = false;\n\t\t\t\tthis.__prev = false;\n\n\t\t\t}\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn BooleanController;\n\n}( Controller );\n\nvar OptionController = function ( _Controller ) {\n\n\tinherits( OptionController, _Controller );\n\tfunction OptionController( object, property, opts ) {\n\n\t\tclassCallCheck( this, OptionController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\n\t\tvar options = opts;\n\t\tvar _this = _this2;\n\t\t_this2.__select = document.createElement( 'select' );\n\t\tif ( Common.isArray( options ) ) {\n\n\t\t\tvar map = {};\n\t\t\tCommon.each( options, function ( element ) {\n\n\t\t\t\tmap[ element ] = element;\n\n\t\t\t} );\n\t\t\toptions = map;\n\n\t\t}\n\t\tCommon.each( options, function ( value, key ) {\n\n\t\t\tvar opt = document.createElement( 'option' );\n\t\t\topt.innerHTML = key;\n\t\t\topt.setAttribute( 'value', value );\n\t\t\t_this.__select.appendChild( opt );\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\tdom.bind( _this2.__select, 'change', function () {\n\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\n\t\t\t_this.setValue( desiredValue );\n\n\t\t} );\n\t\t_this2.domElement.appendChild( _this2.__select );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( OptionController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\t\t\treturn toReturn;\n\n\t\t}\n\t}, {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\n\t\t\tthis.__select.value = this.getValue();\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn OptionController;\n\n}( Controller );\n\nvar StringController = function ( _Controller ) {\n\n\tinherits( StringController, _Controller );\n\tfunction StringController( object, property ) {\n\n\t\tclassCallCheck( this, StringController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\tfunction onChange() {\n\n\t\t\t_this.setValue( _this.__input.value );\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.setAttribute( 'type', 'text' );\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\n\t\tdom.bind( _this2.__input, 'change', onChange );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\tthis.blur();\n\n\t\t\t}\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( StringController, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\n\n\t\t\t\tthis.__input.value = this.getValue();\n\n\t\t\t}\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn StringController;\n\n}( Controller );\n\nfunction numDecimals( x ) {\n\n\tvar _x = x.toString();\n\tif ( _x.indexOf( '.' ) > - 1 ) {\n\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\n\n\t}\n\treturn 0;\n\n}\nvar NumberController = function ( _Controller ) {\n\n\tinherits( NumberController, _Controller );\n\tfunction NumberController( object, property, params ) {\n\n\t\tclassCallCheck( this, NumberController );\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\n\t\tvar _params = params || {};\n\t\t_this.__min = _params.min;\n\t\t_this.__max = _params.max;\n\t\t_this.__step = _params.step;\n\t\tif ( Common.isUndefined( _this.__step ) ) {\n\n\t\t\tif ( _this.initialValue === 0 ) {\n\n\t\t\t\t_this.__impliedStep = 1;\n\n\t\t\t} else {\n\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_this.__impliedStep = _this.__step;\n\n\t\t}\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\n\t\treturn _this;\n\n\t}\n\tcreateClass( NumberController, [ {\n\t\tkey: 'setValue',\n\t\tvalue: function setValue( v ) {\n\n\t\t\tvar _v = v;\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\n\n\t\t\t\t_v = this.__min;\n\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\n\n\t\t\t\t_v = this.__max;\n\n\t\t\t}\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\n\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\n\n\t\t\t}\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\n\n\t\t}\n\t}, {\n\t\tkey: 'min',\n\t\tvalue: function min( minValue ) {\n\n\t\t\tthis.__min = minValue;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'max',\n\t\tvalue: function max( maxValue ) {\n\n\t\t\tthis.__max = maxValue;\n\t\t\treturn this;\n\n\t\t}\n\t}, {\n\t\tkey: 'step',\n\t\tvalue: function step( stepValue ) {\n\n\t\t\tthis.__step = stepValue;\n\t\t\tthis.__impliedStep = stepValue;\n\t\t\tthis.__precision = numDecimals( stepValue );\n\t\t\treturn this;\n\n\t\t}\n\t} ] );\n\treturn NumberController;\n\n}( Controller );\n\nfunction roundToDecimal( value, decimals ) {\n\n\tvar tenTo = Math.pow( 10, decimals );\n\treturn Math.round( value * tenTo ) / tenTo;\n\n}\nvar NumberControllerBox = function ( _NumberController ) {\n\n\tinherits( NumberControllerBox, _NumberController );\n\tfunction NumberControllerBox( object, property, params ) {\n\n\t\tclassCallCheck( this, NumberControllerBox );\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\n\t\t_this2.__truncationSuspended = false;\n\t\tvar _this = _this2;\n\t\tvar prevY = void 0;\n\t\tfunction onChange() {\n\n\t\t\tvar attempted = parseFloat( _this.__input.value );\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\n\n\t\t\t\t_this.setValue( attempted );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onFinish() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onMouseDrag( e ) {\n\n\t\t\tvar diff = prevY - e.clientY;\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\n\t\t\tprevY = e.clientY;\n\n\t\t}\n\t\tfunction onMouseUp() {\n\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onMouseDown( e ) {\n\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\n\t\t\tprevY = e.clientY;\n\n\t\t}\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.setAttribute( 'type', 'text' );\n\t\tdom.bind( _this2.__input, 'change', onChange );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\t_this.__truncationSuspended = true;\n\t\t\t\tthis.blur();\n\t\t\t\t_this.__truncationSuspended = false;\n\t\t\t\tonFinish();\n\n\t\t\t}\n\n\t\t} );\n\t\t_this2.updateDisplay();\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( NumberControllerBox, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn NumberControllerBox;\n\n}( NumberController );\n\nfunction map( v, i1, i2, o1, o2 ) {\n\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\n\n}\nvar NumberControllerSlider = function ( _NumberController ) {\n\n\tinherits( NumberControllerSlider, _NumberController );\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\n\n\t\tclassCallCheck( this, NumberControllerSlider );\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\n\t\tvar _this = _this2;\n\t\t_this2.__background = document.createElement( 'div' );\n\t\t_this2.__foreground = document.createElement( 'div' );\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\n\t\tdom.addClass( _this2.__background, 'slider' );\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\n\t\tfunction onMouseDown( e ) {\n\n\t\t\tdocument.activeElement.blur();\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\n\t\t\tonMouseDrag( e );\n\n\t\t}\n\t\tfunction onMouseDrag( e ) {\n\n\t\t\te.preventDefault();\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\n\t\t\treturn false;\n\n\t\t}\n\t\tfunction onMouseUp() {\n\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onTouchStart( e ) {\n\n\t\t\tif ( e.touches.length !== 1 ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\n\t\t\tonTouchMove( e );\n\n\t\t}\n\t\tfunction onTouchMove( e ) {\n\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\n\n\t\t}\n\t\tfunction onTouchEnd() {\n\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.updateDisplay();\n\t\t_this2.__background.appendChild( _this2.__foreground );\n\t\t_this2.domElement.appendChild( _this2.__background );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( NumberControllerSlider, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\n\n\t\t}\n\t} ] );\n\treturn NumberControllerSlider;\n\n}( NumberController );\n\nvar FunctionController = function ( _Controller ) {\n\n\tinherits( FunctionController, _Controller );\n\tfunction FunctionController( object, property, text ) {\n\n\t\tclassCallCheck( this, FunctionController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\n\t\tvar _this = _this2;\n\t\t_this2.__button = document.createElement( 'div' );\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\n\n\t\t\te.preventDefault();\n\t\t\t_this.fire();\n\t\t\treturn false;\n\n\t\t} );\n\t\tdom.addClass( _this2.__button, 'button' );\n\t\t_this2.domElement.appendChild( _this2.__button );\n\t\treturn _this2;\n\n\t}\n\tcreateClass( FunctionController, [ {\n\t\tkey: 'fire',\n\t\tvalue: function fire() {\n\n\t\t\tif ( this.__onChange ) {\n\n\t\t\t\tthis.__onChange.call( this );\n\n\t\t\t}\n\t\t\tthis.getValue().call( this.object );\n\t\t\tif ( this.__onFinishChange ) {\n\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\n\n\t\t\t}\n\n\t\t}\n\t} ] );\n\treturn FunctionController;\n\n}( Controller );\n\nvar ColorController = function ( _Controller ) {\n\n\tinherits( ColorController, _Controller );\n\tfunction ColorController( object, property ) {\n\n\t\tclassCallCheck( this, ColorController );\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\n\t\t_this2.__color = new Color( _this2.getValue() );\n\t\t_this2.__temp = new Color( 0 );\n\t\tvar _this = _this2;\n\t\t_this2.domElement = document.createElement( 'div' );\n\t\tdom.makeSelectable( _this2.domElement, false );\n\t\t_this2.__selector = document.createElement( 'div' );\n\t\t_this2.__selector.className = 'selector';\n\t\t_this2.__saturation_field = document.createElement( 'div' );\n\t\t_this2.__saturation_field.className = 'saturation-field';\n\t\t_this2.__field_knob = document.createElement( 'div' );\n\t\t_this2.__field_knob.className = 'field-knob';\n\t\t_this2.__field_knob_border = '2px solid ';\n\t\t_this2.__hue_knob = document.createElement( 'div' );\n\t\t_this2.__hue_knob.className = 'hue-knob';\n\t\t_this2.__hue_field = document.createElement( 'div' );\n\t\t_this2.__hue_field.className = 'hue-field';\n\t\t_this2.__input = document.createElement( 'input' );\n\t\t_this2.__input.type = 'text';\n\t\t_this2.__input_textShadow = '0 1px 1px ';\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\n\n\t\t\tif ( e.keyCode === 13 ) {\n\n\t\t\t\tonBlur.call( this );\n\n\t\t\t}\n\n\t\t} );\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\n\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\n\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\n\n\t\t\t} );\n\n\t\t} );\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\n\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\n\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\n\n\t\t\t} );\n\n\t\t} );\n\t\tvar valueField = document.createElement( 'div' );\n\t\tCommon.extend( _this2.__selector.style, {\n\t\t\twidth: '122px',\n\t\t\theight: '102px',\n\t\t\tpadding: '3px',\n\t\t\tbackgroundColor: '#222',\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n\t\t} );\n\t\tCommon.extend( _this2.__field_knob.style, {\n\t\t\tposition: 'absolute',\n\t\t\twidth: '12px',\n\t\t\theight: '12px',\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n\t\t\tborderRadius: '12px',\n\t\t\tzIndex: 1\n\t\t} );\n\t\tCommon.extend( _this2.__hue_knob.style, {\n\t\t\tposition: 'absolute',\n\t\t\twidth: '15px',\n\t\t\theight: '2px',\n\t\t\tborderRight: '4px solid #fff',\n\t\t\tzIndex: 1\n\t\t} );\n\t\tCommon.extend( _this2.__saturation_field.style, {\n\t\t\twidth: '100px',\n\t\t\theight: '100px',\n\t\t\tborder: '1px solid #555',\n\t\t\tmarginRight: '3px',\n\t\t\tdisplay: 'inline-block',\n\t\t\tcursor: 'pointer'\n\t\t} );\n\t\tCommon.extend( valueField.style, {\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\tbackground: 'none'\n\t\t} );\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\n\t\tCommon.extend( _this2.__hue_field.style, {\n\t\t\twidth: '15px',\n\t\t\theight: '100px',\n\t\t\tborder: '1px solid #555',\n\t\t\tcursor: 'ns-resize',\n\t\t\tposition: 'absolute',\n\t\t\ttop: '3px',\n\t\t\tright: '3px'\n\t\t} );\n\t\thueGradient( _this2.__hue_field );\n\t\tCommon.extend( _this2.__input.style, {\n\t\t\toutline: 'none',\n\t\t\ttextAlign: 'center',\n\t\t\tcolor: '#fff',\n\t\t\tborder: 0,\n\t\t\tfontWeight: 'bold',\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\n\t\t} );\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\n\t\tfunction fieldDown( e ) {\n\n\t\t\tsetSV( e );\n\t\t\tdom.bind( window, 'mousemove', setSV );\n\t\t\tdom.bind( window, 'touchmove', setSV );\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\n\n\t\t}\n\t\tfunction fieldDownH( e ) {\n\n\t\t\tsetH( e );\n\t\t\tdom.bind( window, 'mousemove', setH );\n\t\t\tdom.bind( window, 'touchmove', setH );\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\n\n\t\t}\n\t\tfunction fieldUpSV() {\n\n\t\t\tdom.unbind( window, 'mousemove', setSV );\n\t\t\tdom.unbind( window, 'touchmove', setSV );\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction fieldUpH() {\n\n\t\t\tdom.unbind( window, 'mousemove', setH );\n\t\t\tdom.unbind( window, 'touchmove', setH );\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\n\t\t\tonFinish();\n\n\t\t}\n\t\tfunction onBlur() {\n\n\t\t\tvar i = interpret( this.value );\n\t\t\tif ( i !== false ) {\n\n\t\t\t\t_this.__color.__state = i;\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\n\n\t\t\t} else {\n\n\t\t\t\tthis.value = _this.__color.toString();\n\n\t\t\t}\n\n\t\t}\n\t\tfunction onFinish() {\n\n\t\t\tif ( _this.__onFinishChange ) {\n\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\n\n\t\t\t}\n\n\t\t}\n\t\t_this2.__saturation_field.appendChild( valueField );\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\n\t\t_this2.domElement.appendChild( _this2.__input );\n\t\t_this2.domElement.appendChild( _this2.__selector );\n\t\t_this2.updateDisplay();\n\t\tfunction setSV( e ) {\n\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t}\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\n\t\t\t\tclientX = _ref.clientX,\n\t\t\t\tclientY = _ref.clientY;\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\n\t\t\tif ( v > 1 ) {\n\n\t\t\t\tv = 1;\n\n\t\t\t} else if ( v < 0 ) {\n\n\t\t\t\tv = 0;\n\n\t\t\t}\n\t\t\tif ( s > 1 ) {\n\n\t\t\t\ts = 1;\n\n\t\t\t} else if ( s < 0 ) {\n\n\t\t\t\ts = 0;\n\n\t\t\t}\n\t\t\t_this.__color.v = v;\n\t\t\t_this.__color.s = s;\n\t\t\t_this.setValue( _this.__color.toOriginal() );\n\t\t\treturn false;\n\n\t\t}\n\t\tfunction setH( e ) {\n\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t}\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\n\t\t\t\tclientY = _ref2.clientY;\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\n\t\t\tif ( h > 1 ) {\n\n\t\t\t\th = 1;\n\n\t\t\t} else if ( h < 0 ) {\n\n\t\t\t\th = 0;\n\n\t\t\t}\n\t\t\t_this.__color.h = h * 360;\n\t\t\t_this.setValue( _this.__color.toOriginal() );\n\t\t\treturn false;\n\n\t\t}\n\t\treturn _this2;\n\n\t}\n\tcreateClass( ColorController, [ {\n\t\tkey: 'updateDisplay',\n\t\tvalue: function updateDisplay() {\n\n\t\t\tvar i = interpret( this.getValue() );\n\t\t\tif ( i !== false ) {\n\n\t\t\t\tvar mismatch = false;\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\n\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\n\n\t\t\t\t\t\tmismatch = true;\n\t\t\t\t\t\treturn {};\n\n\t\t\t\t\t}\n\n\t\t\t\t}, this );\n\t\t\t\tif ( mismatch ) {\n\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\n\t\t\tthis.__temp.a = 1;\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\n\t\t\tvar _flip = 255 - flip;\n\t\t\tCommon.extend( this.__field_knob.style, {\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n\t\t\t} );\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\n\t\t\tthis.__temp.s = 1;\n\t\t\tthis.__temp.v = 1;\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\n\t\t\tthis.__input.value = this.__color.toString();\n\t\t\tCommon.extend( this.__input.style, {\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n\t\t\t} );\n\n\t\t}\n\t} ] );\n\treturn ColorController;\n\n}( Controller );\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\nfunction linearGradient( elem, x, a, b ) {\n\n\telem.style.background = '';\n\tCommon.each( vendors, function ( vendor ) {\n\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n\n\t} );\n\n}\nfunction hueGradient( elem ) {\n\n\telem.style.background = '';\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n\n}\n\nvar css = {\n\tload: function load( url, indoc ) {\n\n\t\tvar doc = indoc || document;\n\t\tvar link = doc.createElement( 'link' );\n\t\tlink.type = 'text/css';\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href = url;\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\n\n\t},\n\tinject: function inject( cssContent, indoc ) {\n\n\t\tvar doc = indoc || document;\n\t\tvar injected = document.createElement( 'style' );\n\t\tinjected.type = 'text/css';\n\t\tinjected.innerHTML = cssContent;\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\n\t\ttry {\n\n\t\t\thead.appendChild( injected );\n\n\t\t} catch ( e ) {\n\t\t}\n\n\t}\n};\n\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\n\nvar ControllerFactory = function ControllerFactory( object, property ) {\n\n\tvar initialValue = object[ property ];\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\n\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\n\n\t}\n\tif ( Common.isNumber( initialValue ) ) {\n\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\n\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\n\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\n\n\t\t\t}\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\n\n\t\t}\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\n\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\n\n\t\t}\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\n\n\t}\n\tif ( Common.isString( initialValue ) ) {\n\n\t\treturn new StringController( object, property );\n\n\t}\n\tif ( Common.isFunction( initialValue ) ) {\n\n\t\treturn new FunctionController( object, property, '' );\n\n\t}\n\tif ( Common.isBoolean( initialValue ) ) {\n\n\t\treturn new BooleanController( object, property );\n\n\t}\n\treturn null;\n\n};\n\nfunction requestAnimationFrame( callback ) {\n\n\tsetTimeout( callback, 1000 / 60 );\n\n}\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\n\nvar CenteredDiv = function () {\n\n\tfunction CenteredDiv() {\n\n\t\tclassCallCheck( this, CenteredDiv );\n\t\tthis.backgroundElement = document.createElement( 'div' );\n\t\tCommon.extend( this.backgroundElement.style, {\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tdisplay: 'none',\n\t\t\tzIndex: '1000',\n\t\t\topacity: 0,\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\n\t\t\ttransition: 'opacity 0.2s linear'\n\t\t} );\n\t\tdom.makeFullscreen( this.backgroundElement );\n\t\tthis.backgroundElement.style.position = 'fixed';\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tCommon.extend( this.domElement.style, {\n\t\t\tposition: 'fixed',\n\t\t\tdisplay: 'none',\n\t\t\tzIndex: '1001',\n\t\t\topacity: 0,\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\n\t\t} );\n\t\tdocument.body.appendChild( this.backgroundElement );\n\t\tdocument.body.appendChild( this.domElement );\n\t\tvar _this = this;\n\t\tdom.bind( this.backgroundElement, 'click', function () {\n\n\t\t\t_this.hide();\n\n\t\t} );\n\n\t}\n\tcreateClass( CenteredDiv, [ {\n\t\tkey: 'show',\n\t\tvalue: function show() {\n\n\t\t\tvar _this = this;\n\t\t\tthis.backgroundElement.style.display = 'block';\n\t\t\tthis.domElement.style.display = 'block';\n\t\t\tthis.domElement.style.opacity = 0;\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\n\t\t\tthis.layout();\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\n\t\t\t\t_this.domElement.style.opacity = 1;\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\n\n\t\t\t} );\n\n\t\t}\n\t}, {\n\t\tkey: 'hide',\n\t\tvalue: function hide() {\n\n\t\t\tvar _this = this;\n\t\t\tvar hide = function hide() {\n\n\t\t\t\t_this.domElement.style.display = 'none';\n\t\t\t\t_this.backgroundElement.style.display = 'none';\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\n\n\t\t\t};\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\n\t\t\tthis.backgroundElement.style.opacity = 0;\n\t\t\tthis.domElement.style.opacity = 0;\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\n\n\t\t}\n\t}, {\n\t\tkey: 'layout',\n\t\tvalue: function layout() {\n\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\n\n\t\t}\n\t} ] );\n\treturn CenteredDiv;\n\n}();\n\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\n\ncss.inject( styleSheet );\nvar CSS_NAMESPACE = 'dg';\nvar HIDE_KEY_CODE = 72;\nvar CLOSE_BUTTON_HEIGHT = 20;\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\nvar SUPPORTS_LOCAL_STORAGE = function () {\n\n\ttry {\n\n\t\treturn !! window.localStorage;\n\n\t} catch ( e ) {\n\n\t\treturn false;\n\n\t}\n\n}();\nvar SAVE_DIALOGUE = void 0;\nvar autoPlaceVirgin = true;\nvar autoPlaceContainer = void 0;\nvar hide = false;\nvar hideableGuis = [];\nvar GUI = function GUI( pars ) {\n\n\tvar _this = this;\n\tvar params = pars || {};\n\tthis.domElement = document.createElement( 'div' );\n\tthis.__ul = document.createElement( 'ul' );\n\tthis.domElement.appendChild( this.__ul );\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\n\tthis.__folders = {};\n\tthis.__controllers = [];\n\tthis.__rememberedObjects = [];\n\tthis.__rememberedObjectIndecesToControllers = [];\n\tthis.__listening = [];\n\tparams = Common.defaults( params, {\n\t\tcloseOnTop: false,\n\t\tautoPlace: true,\n\t\twidth: GUI.DEFAULT_WIDTH\n\t} );\n\tparams = Common.defaults( params, {\n\t\tresizable: params.autoPlace,\n\t\thideable: params.autoPlace\n\t} );\n\tif ( ! Common.isUndefined( params.load ) ) {\n\n\t\tif ( params.preset ) {\n\n\t\t\tparams.load.preset = params.preset;\n\n\t\t}\n\n\t} else {\n\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n\t}\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\n\n\t\thideableGuis.push( this );\n\n\t}\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\n\n\t\tparams.scrollable = true;\n\n\t}\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\n\tvar saveToLocalStorage = void 0;\n\tvar titleRow = void 0;\n\tObject.defineProperties( this,\n\t\t{\n\t\t\tparent: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.parent;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tscrollable: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.scrollable;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tautoPlace: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.autoPlace;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcloseOnTop: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.closeOnTop;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tpreset: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\tif ( _this.parent ) {\n\n\t\t\t\t\t\treturn _this.getRoot().preset;\n\n\t\t\t\t\t}\n\t\t\t\t\treturn params.load.preset;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tif ( _this.parent ) {\n\n\t\t\t\t\t\t_this.getRoot().preset = v;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tparams.load.preset = v;\n\n\t\t\t\t\t}\n\t\t\t\t\tsetPresetSelectIndex( this );\n\t\t\t\t\t_this.revert();\n\n\t\t\t\t}\n\t\t\t},\n\t\t\twidth: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.width;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.width = v;\n\t\t\t\t\tsetWidth( _this, v );\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tname: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.name;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.name = v;\n\t\t\t\t\tif ( titleRow ) {\n\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tclosed: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.closed;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( v ) {\n\n\t\t\t\t\tparams.closed = v;\n\t\t\t\t\tif ( params.closed ) {\n\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\n\n\t\t\t\t\t}\n\t\t\t\t\tthis.onResize();\n\t\t\t\t\tif ( _this.__closeButton ) {\n\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tload: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn params.load;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tuseLocalStorage: {\n\t\t\t\tget: function get$$1() {\n\n\t\t\t\t\treturn useLocalStorage;\n\n\t\t\t\t},\n\t\t\t\tset: function set$$1( bool ) {\n\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\t\t\t\t\tuseLocalStorage = bool;\n\t\t\t\t\t\tif ( bool ) {\n\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\tif ( Common.isUndefined( params.parent ) ) {\n\n\t\tthis.closed = params.closed || false;\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\n\t\tdom.makeSelectable( this.domElement, false );\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\t\tif ( useLocalStorage ) {\n\n\t\t\t\t_this.useLocalStorage = true;\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\n\t\t\t\tif ( savedGui ) {\n\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\t\tthis.__closeButton = document.createElement( 'div' );\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\n\t\tif ( params.closeOnTop ) {\n\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\n\n\t\t} else {\n\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\n\t\t\tthis.domElement.appendChild( this.__closeButton );\n\n\t\t}\n\t\tdom.bind( this.__closeButton, 'click', function () {\n\n\t\t\t_this.closed = ! _this.closed;\n\n\t\t} );\n\n\t} else {\n\n\t\tif ( params.closed === undefined ) {\n\n\t\t\tparams.closed = true;\n\n\t\t}\n\t\tvar titleRowName = document.createTextNode( params.name );\n\t\tdom.addClass( titleRowName, 'controller-name' );\n\t\ttitleRow = addRow( _this, titleRowName );\n\t\tvar onClickTitle = function onClickTitle( e ) {\n\n\t\t\te.preventDefault();\n\t\t\t_this.closed = ! _this.closed;\n\t\t\treturn false;\n\n\t\t};\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\n\t\tdom.addClass( titleRow, 'title' );\n\t\tdom.bind( titleRow, 'click', onClickTitle );\n\t\tif ( ! params.closed ) {\n\n\t\t\tthis.closed = false;\n\n\t\t}\n\n\t}\n\tif ( params.autoPlace ) {\n\n\t\tif ( Common.isUndefined( params.parent ) ) {\n\n\t\t\tif ( autoPlaceVirgin ) {\n\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\n\t\t\t\tautoPlaceVirgin = false;\n\n\t\t\t}\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\n\n\t\t}\n\t\tif ( ! this.parent ) {\n\n\t\t\tsetWidth( _this, params.width );\n\n\t\t}\n\n\t}\n\tthis.__resizeHandler = function () {\n\n\t\t_this.onResizeDebounced();\n\n\t};\n\tdom.bind( window, 'resize', this.__resizeHandler );\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\n\tthis.onResize();\n\tif ( params.resizable ) {\n\n\t\taddResizeHandle( this );\n\n\t}\n\tsaveToLocalStorage = function saveToLocalStorage() {\n\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\n\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\n\n\t\t}\n\n\t};\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\n\tfunction resetWidth() {\n\n\t\tvar root = _this.getRoot();\n\t\troot.width += 1;\n\t\tCommon.defer( function () {\n\n\t\t\troot.width -= 1;\n\n\t\t} );\n\n\t}\n\tif ( ! params.parent ) {\n\n\t\tresetWidth();\n\n\t}\n\n};\nGUI.toggleHide = function () {\n\n\thide = ! hide;\n\tCommon.each( hideableGuis, function ( gui ) {\n\n\t\tgui.domElement.style.display = hide ? 'none' : '';\n\n\t} );\n\n};\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\nGUI._keydownHandler = function ( e ) {\n\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\n\n\t\tGUI.toggleHide();\n\n\t}\n\n};\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\nCommon.extend( GUI.prototype,\n\t{\n\t\tadd: function add( object, property ) {\n\n\t\t\treturn _add( this, object, property, {\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\n\t\t\t} );\n\n\t\t},\n\t\taddColor: function addColor( object, property ) {\n\n\t\t\treturn _add( this, object, property, {\n\t\t\t\tcolor: true\n\t\t\t} );\n\n\t\t},\n\t\tremove: function remove( controller ) {\n\n\t\t\tthis.__ul.removeChild( controller.__li );\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\n\t\t\tvar _this = this;\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.onResize();\n\n\t\t\t} );\n\n\t\t},\n\t\tdestroy: function destroy() {\n\n\t\t\tif ( this.parent ) {\n\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\n\n\t\t\t}\n\t\t\tif ( this.autoPlace ) {\n\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\n\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\n\n\t\t\t\t_this.removeFolder( subfolder );\n\n\t\t\t} );\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\n\t\t\tremoveListeners( this );\n\n\t\t},\n\t\taddFolder: function addFolder( name ) {\n\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\n\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\n\n\t\t\t}\n\t\t\tvar newGuiParams = { name: name, parent: this };\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\n\t\t\tif ( this.load &&\n    this.load.folders &&\n    this.load.folders[ name ] ) {\n\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\n\n\t\t\t}\n\t\t\tvar gui = new GUI( newGuiParams );\n\t\t\tthis.__folders[ name ] = gui;\n\t\t\tvar li = addRow( this, gui.domElement );\n\t\t\tdom.addClass( li, 'folder' );\n\t\t\treturn gui;\n\n\t\t},\n\t\tremoveFolder: function removeFolder( folder ) {\n\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\n\t\t\tdelete this.__folders[ folder.name ];\n\t\t\tif ( this.load &&\n    this.load.folders &&\n    this.load.folders[ folder.name ] ) {\n\n\t\t\t\tdelete this.load.folders[ folder.name ];\n\n\t\t\t}\n\t\t\tremoveListeners( folder );\n\t\t\tvar _this = this;\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\n\n\t\t\t\tfolder.removeFolder( subfolder );\n\n\t\t\t} );\n\t\t\tCommon.defer( function () {\n\n\t\t\t\t_this.onResize();\n\n\t\t\t} );\n\n\t\t},\n\t\topen: function open() {\n\n\t\t\tthis.closed = false;\n\n\t\t},\n\t\tclose: function close() {\n\n\t\t\tthis.closed = true;\n\n\t\t},\n\t\thide: function hide() {\n\n\t\t\tthis.domElement.style.display = 'none';\n\n\t\t},\n\t\tshow: function show() {\n\n\t\t\tthis.domElement.style.display = '';\n\n\t\t},\n\t\tonResize: function onResize() {\n\n\t\t\tvar root = this.getRoot();\n\t\t\tif ( root.scrollable ) {\n\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\n\t\t\t\tvar h = 0;\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\n\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\n\n\t\t\t\t\t\th += dom.getHeight( node );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\n\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\n\t\t\t\t\troot.__ul.style.height = 'auto';\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif ( root.__resize_handle ) {\n\n\t\t\t\tCommon.defer( function () {\n\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\tif ( root.__closeButton ) {\n\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\n\n\t\t\t}\n\n\t\t},\n\t\tonResizeDebounced: Common.debounce( function () {\n\n\t\t\tthis.onResize();\n\n\t\t}, 50 ),\n\t\tremember: function remember() {\n\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\n\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\n\n\t\t\t}\n\t\t\tif ( this.parent ) {\n\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\n\n\t\t\t}\n\t\t\tvar _this = this;\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\n\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\n\n\t\t\t\t\taddSaveMenu( _this );\n\n\t\t\t\t}\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\n\n\t\t\t\t\t_this.__rememberedObjects.push( object );\n\n\t\t\t\t}\n\n\t\t\t} );\n\t\t\tif ( this.autoPlace ) {\n\n\t\t\t\tsetWidth( this, this.width );\n\n\t\t\t}\n\n\t\t},\n\t\tgetRoot: function getRoot() {\n\n\t\t\tvar gui = this;\n\t\t\twhile ( gui.parent ) {\n\n\t\t\t\tgui = gui.parent;\n\n\t\t\t}\n\t\t\treturn gui;\n\n\t\t},\n\t\tgetSaveObject: function getSaveObject() {\n\n\t\t\tvar toReturn = this.load;\n\t\t\ttoReturn.closed = this.closed;\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\n\n\t\t\t\ttoReturn.preset = this.preset;\n\t\t\t\tif ( ! toReturn.remembered ) {\n\n\t\t\t\t\ttoReturn.remembered = {};\n\n\t\t\t\t}\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\n\n\t\t\t}\n\t\t\ttoReturn.folders = {};\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\n\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\n\n\t\t\t} );\n\t\t\treturn toReturn;\n\n\t\t},\n\t\tsave: function save() {\n\n\t\t\tif ( ! this.load.remembered ) {\n\n\t\t\t\tthis.load.remembered = {};\n\n\t\t\t}\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\n\t\t\tmarkPresetModified( this, false );\n\t\t\tthis.saveToLocalStorageIfPossible();\n\n\t\t},\n\t\tsaveAs: function saveAs( presetName ) {\n\n\t\t\tif ( ! this.load.remembered ) {\n\n\t\t\t\tthis.load.remembered = {};\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\n\n\t\t\t}\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\n\t\t\tthis.preset = presetName;\n\t\t\taddPresetOption( this, presetName, true );\n\t\t\tthis.saveToLocalStorageIfPossible();\n\n\t\t},\n\t\trevert: function revert( gui ) {\n\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\n\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\n\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\n\n\t\t\t\t}\n\t\t\t\tif ( controller.__onFinishChange ) {\n\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\n\n\t\t\t\t}\n\n\t\t\t}, this );\n\t\t\tCommon.each( this.__folders, function ( folder ) {\n\n\t\t\t\tfolder.revert( folder );\n\n\t\t\t} );\n\t\t\tif ( ! gui ) {\n\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\n\n\t\t\t}\n\n\t\t},\n\t\tlisten: function listen( controller ) {\n\n\t\t\tvar init = this.__listening.length === 0;\n\t\t\tthis.__listening.push( controller );\n\t\t\tif ( init ) {\n\n\t\t\t\tupdateDisplays( this.__listening );\n\n\t\t\t}\n\n\t\t},\n\t\tupdateDisplay: function updateDisplay() {\n\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\n\n\t\t\t\tcontroller.updateDisplay();\n\n\t\t\t} );\n\t\t\tCommon.each( this.__folders, function ( folder ) {\n\n\t\t\t\tfolder.updateDisplay();\n\n\t\t\t} );\n\n\t\t}\n\t} );\nfunction addRow( gui, newDom, liBefore ) {\n\n\tvar li = document.createElement( 'li' );\n\tif ( newDom ) {\n\n\t\tli.appendChild( newDom );\n\n\t}\n\tif ( liBefore ) {\n\n\t\tgui.__ul.insertBefore( li, liBefore );\n\n\t} else {\n\n\t\tgui.__ul.appendChild( li );\n\n\t}\n\tgui.onResize();\n\treturn li;\n\n}\nfunction removeListeners( gui ) {\n\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\n\tif ( gui.saveToLocalStorageIfPossible ) {\n\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\n\n\t}\n\n}\nfunction markPresetModified( gui, modified ) {\n\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\n\tif ( modified ) {\n\n\t\topt.innerHTML = opt.value + '*';\n\n\t} else {\n\n\t\topt.innerHTML = opt.value;\n\n\t}\n\n}\nfunction augmentController( gui, li, controller ) {\n\n\tcontroller.__li = li;\n\tcontroller.__gui = gui;\n\tCommon.extend( controller, {\n\t\toptions: function options( _options ) {\n\n\t\t\tif ( arguments.length > 1 ) {\n\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\n\t\t\t\tcontroller.remove();\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: nextSibling,\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\n\t\t\t\t} );\n\n\t\t\t}\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\n\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\n\t\t\t\tcontroller.remove();\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: _nextSibling,\n\t\t\t\t\tfactoryArgs: [ _options ]\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t},\n\t\tname: function name( _name ) {\n\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\n\t\t\treturn controller;\n\n\t\t},\n\t\tlisten: function listen() {\n\n\t\t\tcontroller.__gui.listen( controller );\n\t\t\treturn controller;\n\n\t\t},\n\t\tremove: function remove() {\n\n\t\t\tcontroller.__gui.remove( controller );\n\t\t\treturn controller;\n\n\t\t}\n\t} );\n\tif ( controller instanceof NumberControllerSlider ) {\n\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\n\n\t\t\tvar pc = controller[ method ];\n\t\t\tvar pb = box[ method ];\n\t\t\tcontroller[ method ] = box[ method ] = function () {\n\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\n\t\t\t\tpb.apply( box, args );\n\t\t\t\treturn pc.apply( controller, args );\n\n\t\t\t};\n\n\t\t} );\n\t\tdom.addClass( li, 'has-slider' );\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\n\n\t} else if ( controller instanceof NumberControllerBox ) {\n\n\t\tvar r = function r( returned ) {\n\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\n\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\n\t\t\t\tcontroller.remove();\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\n\t\t\t\t} );\n\t\t\t\tnewController.name( oldName );\n\t\t\t\tif ( wasListening ) newController.listen();\n\t\t\t\treturn newController;\n\n\t\t\t}\n\t\t\treturn returned;\n\n\t\t};\n\t\tcontroller.min = Common.compose( r, controller.min );\n\t\tcontroller.max = Common.compose( r, controller.max );\n\n\t} else if ( controller instanceof BooleanController ) {\n\n\t\tdom.bind( li, 'click', function () {\n\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\n\n\t\t} );\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\n\n\t\t\te.stopPropagation();\n\n\t\t} );\n\n\t} else if ( controller instanceof FunctionController ) {\n\n\t\tdom.bind( li, 'click', function () {\n\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\n\n\t\t} );\n\t\tdom.bind( li, 'mouseover', function () {\n\n\t\t\tdom.addClass( controller.__button, 'hover' );\n\n\t\t} );\n\t\tdom.bind( li, 'mouseout', function () {\n\n\t\t\tdom.removeClass( controller.__button, 'hover' );\n\n\t\t} );\n\n\t} else if ( controller instanceof ColorController ) {\n\n\t\tdom.addClass( li, 'color' );\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\n\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\n\t\t\treturn val;\n\n\t\t}, controller.updateDisplay );\n\t\tcontroller.updateDisplay();\n\n\t}\n\tcontroller.setValue = Common.compose( function ( val ) {\n\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\n\n\t\t\tmarkPresetModified( gui.getRoot(), true );\n\n\t\t}\n\t\treturn val;\n\n\t}, controller.setValue );\n\n}\nfunction recallSavedValue( gui, controller ) {\n\n\tvar root = gui.getRoot();\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\n\tif ( matchedIndex !== - 1 ) {\n\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\n\t\tif ( controllerMap === undefined ) {\n\n\t\t\tcontrollerMap = {};\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\n\n\t\t}\n\t\tcontrollerMap[ controller.property ] = controller;\n\t\tif ( root.load && root.load.remembered ) {\n\n\t\t\tvar presetMap = root.load.remembered;\n\t\t\tvar preset = void 0;\n\t\t\tif ( presetMap[ gui.preset ] ) {\n\n\t\t\t\tpreset = presetMap[ gui.preset ];\n\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\n\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\n\n\t\t\t} else {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\n\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\n\t\t\t\tcontroller.initialValue = value;\n\t\t\t\tcontroller.setValue( value );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\nfunction _add( gui, object, property, params ) {\n\n\tif ( object[ property ] === undefined ) {\n\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\n\n\t}\n\tvar controller = void 0;\n\tif ( params.color ) {\n\n\t\tcontroller = new ColorController( object, property );\n\n\t} else {\n\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\n\n\t}\n\tif ( params.before instanceof Controller ) {\n\n\t\tparams.before = params.before.__li;\n\n\t}\n\trecallSavedValue( gui, controller );\n\tdom.addClass( controller.domElement, 'c' );\n\tvar name = document.createElement( 'span' );\n\tdom.addClass( name, 'property-name' );\n\tname.innerHTML = controller.property;\n\tvar container = document.createElement( 'div' );\n\tcontainer.appendChild( name );\n\tcontainer.appendChild( controller.domElement );\n\tvar li = addRow( gui, container, params.before );\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\n\tif ( controller instanceof ColorController ) {\n\n\t\tdom.addClass( li, 'color' );\n\n\t} else {\n\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\n\n\t}\n\taugmentController( gui, li, controller );\n\tgui.__controllers.push( controller );\n\treturn controller;\n\n}\nfunction getLocalStorageHash( gui, key ) {\n\n\treturn document.location.href + '.' + key;\n\n}\nfunction addPresetOption( gui, name, setSelected ) {\n\n\tvar opt = document.createElement( 'option' );\n\topt.innerHTML = name;\n\topt.value = name;\n\tgui.__preset_select.appendChild( opt );\n\tif ( setSelected ) {\n\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n\n\t}\n\n}\nfunction showHideExplain( gui, explain ) {\n\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\n\n}\nfunction addSaveMenu( gui ) {\n\n\tvar div = gui.__save_row = document.createElement( 'li' );\n\tdom.addClass( gui.domElement, 'has-save' );\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\n\tdom.addClass( div, 'save-row' );\n\tvar gears = document.createElement( 'span' );\n\tgears.innerHTML = '&nbsp;';\n\tdom.addClass( gears, 'button gears' );\n\tvar button = document.createElement( 'span' );\n\tbutton.innerHTML = 'Save';\n\tdom.addClass( button, 'button' );\n\tdom.addClass( button, 'save' );\n\tvar button2 = document.createElement( 'span' );\n\tbutton2.innerHTML = 'New';\n\tdom.addClass( button2, 'button' );\n\tdom.addClass( button2, 'save-as' );\n\tvar button3 = document.createElement( 'span' );\n\tbutton3.innerHTML = 'Revert';\n\tdom.addClass( button3, 'button' );\n\tdom.addClass( button3, 'revert' );\n\tvar select = gui.__preset_select = document.createElement( 'select' );\n\tif ( gui.load && gui.load.remembered ) {\n\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\n\n\t\t\taddPresetOption( gui, key, key === gui.preset );\n\n\t\t} );\n\n\t} else {\n\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\n\n\t}\n\tdom.bind( select, 'change', function () {\n\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\n\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\n\n\t\t}\n\t\tgui.preset = this.value;\n\n\t} );\n\tdiv.appendChild( select );\n\tdiv.appendChild( gears );\n\tdiv.appendChild( button );\n\tdiv.appendChild( button2 );\n\tdiv.appendChild( button3 );\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\n\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\n\t\tsaveLocally.style.display = 'block';\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\n\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\n\n\t\t}\n\t\tshowHideExplain( gui, explain );\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\n\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\n\t\t\tshowHideExplain( gui, explain );\n\n\t\t} );\n\n\t}\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\n\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\n\n\t\t\tSAVE_DIALOGUE.hide();\n\n\t\t}\n\n\t} );\n\tdom.bind( gears, 'click', function () {\n\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\n\t\tSAVE_DIALOGUE.show();\n\t\tnewConstructorTextArea.focus();\n\t\tnewConstructorTextArea.select();\n\n\t} );\n\tdom.bind( button, 'click', function () {\n\n\t\tgui.save();\n\n\t} );\n\tdom.bind( button2, 'click', function () {\n\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\n\t\tif ( presetName ) {\n\n\t\t\tgui.saveAs( presetName );\n\n\t\t}\n\n\t} );\n\tdom.bind( button3, 'click', function () {\n\n\t\tgui.revert();\n\n\t} );\n\n}\nfunction addResizeHandle( gui ) {\n\n\tvar pmouseX = void 0;\n\tgui.__resize_handle = document.createElement( 'div' );\n\tCommon.extend( gui.__resize_handle.style, {\n\t\twidth: '6px',\n\t\tmarginLeft: '-3px',\n\t\theight: '200px',\n\t\tcursor: 'ew-resize',\n\t\tposition: 'absolute'\n\t} );\n\tfunction drag( e ) {\n\n\t\te.preventDefault();\n\t\tgui.width += pmouseX - e.clientX;\n\t\tgui.onResize();\n\t\tpmouseX = e.clientX;\n\t\treturn false;\n\n\t}\n\tfunction dragStop() {\n\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\n\t\tdom.unbind( window, 'mousemove', drag );\n\t\tdom.unbind( window, 'mouseup', dragStop );\n\n\t}\n\tfunction dragStart( e ) {\n\n\t\te.preventDefault();\n\t\tpmouseX = e.clientX;\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\n\t\tdom.bind( window, 'mousemove', drag );\n\t\tdom.bind( window, 'mouseup', dragStop );\n\t\treturn false;\n\n\t}\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\n\n}\nfunction setWidth( gui, w ) {\n\n\tgui.domElement.style.width = w + 'px';\n\tif ( gui.__save_row && gui.autoPlace ) {\n\n\t\tgui.__save_row.style.width = w + 'px';\n\n\t}\n\tif ( gui.__closeButton ) {\n\n\t\tgui.__closeButton.style.width = w + 'px';\n\n\t}\n\n}\nfunction getCurrentPreset( gui, useInitialValues ) {\n\n\tvar toReturn = {};\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\n\n\t\tvar savedValues = {};\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\n\t\tCommon.each( controllerMap, function ( controller, property ) {\n\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\n\n\t\t} );\n\t\ttoReturn[ index ] = savedValues;\n\n\t} );\n\treturn toReturn;\n\n}\nfunction setPresetSelectIndex( gui ) {\n\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\n\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\n\n\t\t\tgui.__preset_select.selectedIndex = index;\n\n\t\t}\n\n\t}\n\n}\nfunction updateDisplays( controllerArray ) {\n\n\tif ( controllerArray.length !== 0 ) {\n\n\t\trequestAnimationFrame$1.call( window, function () {\n\n\t\t\tupdateDisplays( controllerArray );\n\n\t\t} );\n\n\t}\n\tCommon.each( controllerArray, function ( c ) {\n\n\t\tc.updateDisplay();\n\n\t} );\n\n}\n\nvar color = {\n\tColor: Color,\n\tmath: ColorMath,\n\tinterpret: interpret\n};\nvar controllers = {\n\tController: Controller,\n\tBooleanController: BooleanController,\n\tOptionController: OptionController,\n\tStringController: StringController,\n\tNumberController: NumberController,\n\tNumberControllerBox: NumberControllerBox,\n\tNumberControllerSlider: NumberControllerSlider,\n\tFunctionController: FunctionController,\n\tColorController: ColorController\n};\nvar dom$1 = { dom: dom };\nvar gui = { GUI: GUI };\nvar GUI$1 = GUI;\nvar index = {\n\tcolor: color,\n\tcontrollers: controllers,\n\tdom: dom$1,\n\tgui: gui,\n\tGUI: GUI$1\n};\n\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\nexport default index;\n","/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\n\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t\"tDiffuse\": { value: null },\n\t\t\"opacity\": { value: 1.0 }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvUv = uv;\",\n\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\n\t\t\"uniform float opacity;\",\n\n\t\t\"uniform sampler2D tDiffuse;\",\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n\t\t\"\tgl_FragColor = opacity * texel;\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};\n\nexport { CopyShader };\n","// import {\n//   OrthographicCamera,\n//   PlaneBufferGeometry,\n//   Mesh,\n// } from \"./three.module.js\";\n\nimport {\n  OrthographicCamera,\n  PlaneBufferGeometry,\n  Mesh,\n} from \"three\";\n\nfunction Pass() {\n  // if set to true, the pass is processed by the composer\n  this.enabled = true;\n\n  // if set to true, the pass indicates to swap read and write buffer after rendering\n  this.needsSwap = true;\n\n  // if set to true, the pass clears its buffer before rendering\n  this.clear = false;\n\n  // if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n  this.renderToScreen = false;\n}\n\nObject.assign(Pass.prototype, {\n  setSize: function (/* width, height */) {},\n\n  render: function (/* renderer, writeBuffer, readBuffer, deltaTime, maskActive */) {\n    console.error(\"THREE.Pass: .render() must be implemented in derived pass.\");\n  },\n});\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nPass.FullScreenQuad = (function () {\n  var camera = new OrthographicCamera(-1, 1, 1, -1, 0, 1);\n  var geometry = new PlaneBufferGeometry(2, 2);\n\n  var FullScreenQuad = function (material) {\n    this._mesh = new Mesh(geometry, material);\n  };\n\n  Object.defineProperty(FullScreenQuad.prototype, \"material\", {\n    get: function () {\n      return this._mesh.material;\n    },\n\n    set: function (value) {\n      this._mesh.material = value;\n    },\n  });\n\n  Object.assign(FullScreenQuad.prototype, {\n    render: function (renderer) {\n      renderer.render(this._mesh, camera);\n    },\n  });\n\n  return FullScreenQuad;\n})();\n\nexport { Pass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\n// import { ShaderMaterial, UniformsUtils } from \"./three.module.js\";\nimport { ShaderMaterial, UniformsUtils } from \"three\";\nimport { Pass } from \"./Pass.js\";\n\nvar ShaderPass = function (shader, textureID) {\n  Pass.call(this);\n\n  this.textureID = textureID !== undefined ? textureID : \"tDiffuse\";\n\n  if (shader instanceof ShaderMaterial) {\n    this.uniforms = shader.uniforms;\n\n    this.material = shader;\n  } else if (shader) {\n    this.uniforms = UniformsUtils.clone(shader.uniforms);\n\n    this.material = new ShaderMaterial({\n      defines: Object.assign({}, shader.defines),\n      uniforms: this.uniforms,\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n    });\n  }\n\n  this.fsQuad = new Pass.FullScreenQuad(this.material);\n};\n\nShaderPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: ShaderPass,\n\n  render: function (\n    renderer,\n    writeBuffer,\n    readBuffer /*, deltaTime, maskActive */\n  ) {\n    if (this.uniforms[this.textureID]) {\n      this.uniforms[this.textureID].value = readBuffer.texture;\n    }\n\n    this.fsQuad.material = this.material;\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n      // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n      if (this.clear)\n        renderer.clear(\n          renderer.autoClearColor,\n          renderer.autoClearDepth,\n          renderer.autoClearStencil\n        );\n      this.fsQuad.render(renderer);\n    }\n  },\n});\n\nexport { ShaderPass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport { Pass } from \"./Pass.js\";\n\nvar MaskPass = function (scene, camera) {\n  Pass.call(this);\n\n  this.scene = scene;\n  this.camera = camera;\n\n  this.clear = true;\n  this.needsSwap = false;\n\n  this.inverse = false;\n};\n\nMaskPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: MaskPass,\n\n  render: function (\n    renderer,\n    writeBuffer,\n    readBuffer /*, deltaTime, maskActive */\n  ) {\n    var context = renderer.getContext();\n    var state = renderer.state;\n\n    // don't update color or depth\n\n    state.buffers.color.setMask(false);\n    state.buffers.depth.setMask(false);\n\n    // lock buffers\n\n    state.buffers.color.setLocked(true);\n    state.buffers.depth.setLocked(true);\n\n    // set up stencil\n\n    var writeValue, clearValue;\n\n    if (this.inverse) {\n      writeValue = 0;\n      clearValue = 1;\n    } else {\n      writeValue = 1;\n      clearValue = 0;\n    }\n\n    state.buffers.stencil.setTest(true);\n    state.buffers.stencil.setOp(\n      context.REPLACE,\n      context.REPLACE,\n      context.REPLACE\n    );\n    state.buffers.stencil.setFunc(context.ALWAYS, writeValue, 0xffffffff);\n    state.buffers.stencil.setClear(clearValue);\n    state.buffers.stencil.setLocked(true);\n\n    // draw into the stencil buffer\n\n    renderer.setRenderTarget(readBuffer);\n    if (this.clear) renderer.clear();\n    renderer.render(this.scene, this.camera);\n\n    renderer.setRenderTarget(writeBuffer);\n    if (this.clear) renderer.clear();\n    renderer.render(this.scene, this.camera);\n\n    // unlock color and depth buffer for subsequent rendering\n\n    state.buffers.color.setLocked(false);\n    state.buffers.depth.setLocked(false);\n\n    // only render where stencil is set to 1\n\n    state.buffers.stencil.setLocked(false);\n    state.buffers.stencil.setFunc(context.EQUAL, 1, 0xffffffff); // draw if == 1\n    state.buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\n    state.buffers.stencil.setLocked(true);\n  },\n});\n\nvar ClearMaskPass = function () {\n  Pass.call(this);\n\n  this.needsSwap = false;\n};\n\nClearMaskPass.prototype = Object.create(Pass.prototype);\n\nObject.assign(ClearMaskPass.prototype, {\n  render: function (\n    renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */\n  ) {\n    renderer.state.buffers.stencil.setLocked(false);\n    renderer.state.buffers.stencil.setTest(false);\n  },\n});\n\nexport { MaskPass, ClearMaskPass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\n// import {\n//   Clock,\n//   LinearFilter,\n//   Mesh,\n//   OrthographicCamera,\n//   PlaneBufferGeometry,\n//   RGBAFormat,\n//   Vector2,\n//   WebGLRenderTarget,\n// } from \"./three.module.js\";\nimport {\n  Clock,\n  LinearFilter,\n  Mesh,\n  OrthographicCamera,\n  PlaneBufferGeometry,\n  RGBAFormat,\n  Vector2,\n  WebGLRenderTarget,\n} from \"three\";\nimport { CopyShader } from \"./CopyShader.js\";\nimport { ShaderPass } from \"./ShaderPass.js\";\nimport { MaskPass } from \"./MaskPass.js\";\nimport { ClearMaskPass } from \"./MaskPass.js\";\n\nvar EffectComposer = function (renderer, renderTarget) {\n  this.renderer = renderer;\n\n  if (renderTarget === undefined) {\n    var parameters = {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      format: RGBAFormat,\n      stencilBuffer: false,\n    };\n\n    var size = renderer.getSize(new Vector2());\n    this._pixelRatio = renderer.getPixelRatio();\n    this._width = size.width;\n    this._height = size.height;\n\n    renderTarget = new WebGLRenderTarget(\n      this._width * this._pixelRatio,\n      this._height * this._pixelRatio,\n      parameters\n    );\n    renderTarget.texture.name = \"EffectComposer.rt1\";\n  } else {\n    this._pixelRatio = 1;\n    this._width = renderTarget.width;\n    this._height = renderTarget.height;\n  }\n\n  this.renderTarget1 = renderTarget;\n  this.renderTarget2 = renderTarget.clone();\n  this.renderTarget2.texture.name = \"EffectComposer.rt2\";\n\n  this.writeBuffer = this.renderTarget1;\n  this.readBuffer = this.renderTarget2;\n\n  this.renderToScreen = true;\n\n  this.passes = [];\n\n  // dependencies\n\n  if (CopyShader === undefined) {\n    console.error(\"THREE.EffectComposer relies on CopyShader\");\n  }\n\n  if (ShaderPass === undefined) {\n    console.error(\"THREE.EffectComposer relies on ShaderPass\");\n  }\n\n  this.copyPass = new ShaderPass(CopyShader);\n\n  this.clock = new Clock();\n};\n\nObject.assign(EffectComposer.prototype, {\n  swapBuffers: function () {\n    var tmp = this.readBuffer;\n    this.readBuffer = this.writeBuffer;\n    this.writeBuffer = tmp;\n  },\n\n  addPass: function (pass) {\n    this.passes.push(pass);\n    pass.setSize(\n      this._width * this._pixelRatio,\n      this._height * this._pixelRatio\n    );\n  },\n\n  insertPass: function (pass, index) {\n    this.passes.splice(index, 0, pass);\n  },\n\n  isLastEnabledPass: function (passIndex) {\n    for (var i = passIndex + 1; i < this.passes.length; i++) {\n      if (this.passes[i].enabled) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  render: function (deltaTime) {\n    // deltaTime value is in seconds\n\n    if (deltaTime === undefined) {\n      deltaTime = this.clock.getDelta();\n    }\n\n    var currentRenderTarget = this.renderer.getRenderTarget();\n\n    var maskActive = false;\n\n    var pass,\n      i,\n      il = this.passes.length;\n\n    for (i = 0; i < il; i++) {\n      pass = this.passes[i];\n\n      if (pass.enabled === false) continue;\n\n      pass.renderToScreen = this.renderToScreen && this.isLastEnabledPass(i);\n      pass.render(\n        this.renderer,\n        this.writeBuffer,\n        this.readBuffer,\n        deltaTime,\n        maskActive\n      );\n\n      if (pass.needsSwap) {\n        if (maskActive) {\n          var context = this.renderer.getContext();\n          var stencil = this.renderer.state.buffers.stencil;\n\n          //context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n          stencil.setFunc(context.NOTEQUAL, 1, 0xffffffff);\n\n          this.copyPass.render(\n            this.renderer,\n            this.writeBuffer,\n            this.readBuffer,\n            deltaTime\n          );\n\n          //context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n          stencil.setFunc(context.EQUAL, 1, 0xffffffff);\n        }\n\n        this.swapBuffers();\n      }\n\n      if (MaskPass !== undefined) {\n        if (pass instanceof MaskPass) {\n          maskActive = true;\n        } else if (pass instanceof ClearMaskPass) {\n          maskActive = false;\n        }\n      }\n    }\n\n    this.renderer.setRenderTarget(currentRenderTarget);\n  },\n\n  reset: function (renderTarget) {\n    if (renderTarget === undefined) {\n      var size = this.renderer.getSize(new Vector2());\n      this._pixelRatio = this.renderer.getPixelRatio();\n      this._width = size.width;\n      this._height = size.height;\n\n      renderTarget = this.renderTarget1.clone();\n      renderTarget.setSize(\n        this._width * this._pixelRatio,\n        this._height * this._pixelRatio\n      );\n    }\n\n    this.renderTarget1.dispose();\n    this.renderTarget2.dispose();\n    this.renderTarget1 = renderTarget;\n    this.renderTarget2 = renderTarget.clone();\n\n    this.writeBuffer = this.renderTarget1;\n    this.readBuffer = this.renderTarget2;\n  },\n\n  setSize: function (width, height) {\n    this._width = width;\n    this._height = height;\n\n    var effectiveWidth = this._width * this._pixelRatio;\n    var effectiveHeight = this._height * this._pixelRatio;\n\n    this.renderTarget1.setSize(effectiveWidth, effectiveHeight);\n    this.renderTarget2.setSize(effectiveWidth, effectiveHeight);\n\n    for (var i = 0; i < this.passes.length; i++) {\n      this.passes[i].setSize(effectiveWidth, effectiveHeight);\n    }\n  },\n\n  setPixelRatio: function (pixelRatio) {\n    this._pixelRatio = pixelRatio;\n\n    this.setSize(this._width, this._height);\n  },\n});\n\nvar Pass = function () {\n  // if set to true, the pass is processed by the composer\n  this.enabled = true;\n\n  // if set to true, the pass indicates to swap read and write buffer after rendering\n  this.needsSwap = true;\n\n  // if set to true, the pass clears its buffer before rendering\n  this.clear = false;\n\n  // if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n  this.renderToScreen = false;\n};\n\nObject.assign(Pass.prototype, {\n  setSize: function (/* width, height */) {},\n\n  render: function (/* renderer, writeBuffer, readBuffer, deltaTime, maskActive */) {\n    console.error(\"THREE.Pass: .render() must be implemented in derived pass.\");\n  },\n});\n\n// Helper for passes that need to fill the viewport with a single quad.\nPass.FullScreenQuad = (function () {\n  var camera = new OrthographicCamera(-1, 1, 1, -1, 0, 1);\n  var geometry = new PlaneBufferGeometry(2, 2);\n\n  var FullScreenQuad = function (material) {\n    this._mesh = new Mesh(geometry, material);\n  };\n\n  Object.defineProperty(FullScreenQuad.prototype, \"material\", {\n    get: function () {\n      return this._mesh.material;\n    },\n\n    set: function (value) {\n      this._mesh.material = value;\n    },\n  });\n\n  Object.assign(FullScreenQuad.prototype, {\n    render: function (renderer) {\n      renderer.render(this._mesh, camera);\n    },\n  });\n\n  return FullScreenQuad;\n})();\n\nexport { EffectComposer, Pass };\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nimport { Pass } from \"./Pass.js\";\n\nvar RenderPass = function (\n  scene,\n  camera,\n  overrideMaterial,\n  clearColor,\n  clearAlpha\n) {\n  Pass.call(this);\n\n  this.scene = scene;\n  this.camera = camera;\n\n  this.overrideMaterial = overrideMaterial;\n\n  this.clearColor = clearColor;\n  this.clearAlpha = clearAlpha !== undefined ? clearAlpha : 0;\n\n  this.clear = true;\n  this.clearDepth = false;\n  this.needsSwap = false;\n};\n\nRenderPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: RenderPass,\n\n  render: function (\n    renderer,\n    writeBuffer,\n    readBuffer /*, deltaTime, maskActive */\n  ) {\n    var oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n\n    this.scene.overrideMaterial = this.overrideMaterial;\n\n    var oldClearColor, oldClearAlpha;\n\n    if (this.clearColor) {\n      oldClearColor = renderer.getClearColor().getHex();\n      oldClearAlpha = renderer.getClearAlpha();\n      renderer.setClearColor(this.clearColor, this.clearAlpha);\n    }\n\n    if (this.clearDepth) {\n      renderer.clearDepth();\n    }\n\n\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n\n    // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n    if (this.clear)\n      renderer.clear(\n        renderer.autoClearColor,\n        renderer.autoClearDepth,\n        renderer.autoClearStencil\n      );\n    renderer.render(this.scene, this.camera);\n\n    if (this.clearColor) {\n      renderer.setClearColor(oldClearColor, oldClearAlpha);\n    }\n\n    this.scene.overrideMaterial = null;\n    renderer.autoClear = oldAutoClear;\n  },\n});\n\nexport { RenderPass };\n","/**\n * @author bhouston / http://clara.io/\n *\n * Luminosity\n * http://en.wikipedia.org/wiki/Luminosity\n */\n\n// import { Color } from \"./three.module.js\";\nimport { Color } from \"three\";\n\nvar LuminosityHighPassShader = {\n  shaderID: \"luminosityHighPass\",\n\n  uniforms: {\n    tDiffuse: { value: null },\n    luminosityThreshold: { value: 1.0 },\n    smoothWidth: { value: 1.0 },\n    defaultColor: { value: new Color(0x000000) },\n    defaultOpacity: { value: 0.0 },\n  },\n\n  vertexShader: [\n    \"varying vec2 vUv;\",\n\n    \"void main() {\",\n\n    \"\tvUv = uv;\",\n\n    \"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n    \"}\",\n  ].join(\"\\n\"),\n\n  fragmentShader: [\n    \"uniform sampler2D tDiffuse;\",\n    \"uniform vec3 defaultColor;\",\n    \"uniform float defaultOpacity;\",\n    \"uniform float luminosityThreshold;\",\n    \"uniform float smoothWidth;\",\n\n    \"varying vec2 vUv;\",\n\n    \"void main() {\",\n\n    \"\tvec4 texel = texture2D( tDiffuse, vUv );\",\n\n    \"\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\",\n\n    \"\tfloat v = dot( texel.xyz, luma );\",\n\n    \"\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\",\n\n    \"\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\",\n\n    \"\tgl_FragColor = mix( outputColor, texel, alpha );\",\n\n    \"}\",\n  ].join(\"\\n\"),\n};\n\nexport { LuminosityHighPassShader };\n","/**\n * @author spidersharma / http://eduperiment.com/\n *\n * Inspired from Unreal Engine\n * https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\n */\n\n// import {\n//   AdditiveBlending,\n//   Color,\n//   LinearFilter,\n//   MeshBasicMaterial,\n//   RGBAFormat,\n//   ShaderMaterial,\n//   UniformsUtils,\n//   Vector2,\n//   Vector3,\n//   WebGLRenderTarget,\n// } from \"./three.module.js\";\n\nimport {\n  AdditiveBlending,\n  Color,\n  LinearFilter,\n  MeshBasicMaterial,\n  RGBAFormat,\n  ShaderMaterial,\n  UniformsUtils,\n  Vector2,\n  Vector3,\n  WebGLRenderTarget,\n} from \"three\";\nimport { Pass } from \"./Pass.js\";\nimport { CopyShader } from \"./CopyShader.js\";\nimport { LuminosityHighPassShader } from \"./LuminosityHighPassShader.js\";\n\nvar UnrealBloomPass = function (resolution, strength, radius, threshold) {\n  Pass.call(this);\n\n  this.strength = strength !== undefined ? strength : 1;\n  this.radius = radius;\n  this.threshold = threshold;\n  this.resolution =\n    resolution !== undefined\n      ? new Vector2(resolution.x, resolution.y)\n      : new Vector2(256, 256);\n\n  // create color only once here, reuse it later inside the render function\n  this.clearColor = new Color(0, 0, 0);\n\n  // render targets\n  var pars = {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    format: RGBAFormat,\n  };\n  this.renderTargetsHorizontal = [];\n  this.renderTargetsVertical = [];\n  this.nMips = 5;\n  var resx = Math.round(this.resolution.x / 2);\n  var resy = Math.round(this.resolution.y / 2);\n\n  this.renderTargetBright = new WebGLRenderTarget(resx, resy, pars);\n  this.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\n  this.renderTargetBright.texture.generateMipmaps = false;\n\n  for (var i = 0; i < this.nMips; i++) {\n    var renderTargetHorizonal = new WebGLRenderTarget(resx, resy, pars);\n\n    renderTargetHorizonal.texture.name = \"UnrealBloomPass.h\" + i;\n    renderTargetHorizonal.texture.generateMipmaps = false;\n\n    this.renderTargetsHorizontal.push(renderTargetHorizonal);\n\n    var renderTargetVertical = new WebGLRenderTarget(resx, resy, pars);\n\n    renderTargetVertical.texture.name = \"UnrealBloomPass.v\" + i;\n    renderTargetVertical.texture.generateMipmaps = false;\n\n    this.renderTargetsVertical.push(renderTargetVertical);\n\n    resx = Math.round(resx / 2);\n\n    resy = Math.round(resy / 2);\n  }\n\n  // luminosity high pass material\n\n  if (LuminosityHighPassShader === undefined)\n    console.error(\"UnrealBloomPass relies on LuminosityHighPassShader\");\n\n  var highPassShader = LuminosityHighPassShader;\n  this.highPassUniforms = UniformsUtils.clone(highPassShader.uniforms);\n\n  this.highPassUniforms[\"luminosityThreshold\"].value = threshold;\n  this.highPassUniforms[\"smoothWidth\"].value = 0.01;\n\n  this.materialHighPassFilter = new ShaderMaterial({\n    uniforms: this.highPassUniforms,\n    vertexShader: highPassShader.vertexShader,\n    fragmentShader: highPassShader.fragmentShader,\n    defines: {},\n  });\n\n  // Gaussian Blur Materials\n  this.separableBlurMaterials = [];\n  var kernelSizeArray = [3, 5, 7, 9, 11];\n  var resx = Math.round(this.resolution.x / 2);\n  var resy = Math.round(this.resolution.y / 2);\n\n  for (var i = 0; i < this.nMips; i++) {\n    this.separableBlurMaterials.push(\n      this.getSeperableBlurMaterial(kernelSizeArray[i])\n    );\n\n    this.separableBlurMaterials[i].uniforms[\"texSize\"].value = new Vector2(\n      resx,\n      resy\n    );\n\n    resx = Math.round(resx / 2);\n\n    resy = Math.round(resy / 2);\n  }\n\n  // Composite material\n  this.compositeMaterial = this.getCompositeMaterial(this.nMips);\n  this.compositeMaterial.uniforms[\n    \"blurTexture1\"\n  ].value = this.renderTargetsVertical[0].texture;\n  this.compositeMaterial.uniforms[\n    \"blurTexture2\"\n  ].value = this.renderTargetsVertical[1].texture;\n  this.compositeMaterial.uniforms[\n    \"blurTexture3\"\n  ].value = this.renderTargetsVertical[2].texture;\n  this.compositeMaterial.uniforms[\n    \"blurTexture4\"\n  ].value = this.renderTargetsVertical[3].texture;\n  this.compositeMaterial.uniforms[\n    \"blurTexture5\"\n  ].value = this.renderTargetsVertical[4].texture;\n  this.compositeMaterial.uniforms[\"bloomStrength\"].value = strength;\n  this.compositeMaterial.uniforms[\"bloomRadius\"].value = 0.1;\n  this.compositeMaterial.needsUpdate = true;\n\n  var bloomFactors = [1.0, 0.8, 0.6, 0.4, 0.2];\n  this.compositeMaterial.uniforms[\"bloomFactors\"].value = bloomFactors;\n  this.bloomTintColors = [\n    new Vector3(1, 1, 1),\n    new Vector3(1, 1, 1),\n    new Vector3(1, 1, 1),\n    new Vector3(1, 1, 1),\n    new Vector3(1, 1, 1),\n  ];\n  this.compositeMaterial.uniforms[\n    \"bloomTintColors\"\n  ].value = this.bloomTintColors;\n\n  // copy material\n  if (CopyShader === undefined) {\n    console.error(\"UnrealBloomPass relies on CopyShader\");\n  }\n\n  var copyShader = CopyShader;\n\n  this.copyUniforms = UniformsUtils.clone(copyShader.uniforms);\n  this.copyUniforms[\"opacity\"].value = 1.0;\n\n  this.materialCopy = new ShaderMaterial({\n    uniforms: this.copyUniforms,\n    vertexShader: copyShader.vertexShader,\n    fragmentShader: copyShader.fragmentShader,\n    blending: AdditiveBlending,\n    depthTest: false,\n    depthWrite: false,\n    transparent: true,\n  });\n\n  this.enabled = true;\n  this.needsSwap = false;\n\n  this.oldClearColor = new Color();\n  this.oldClearAlpha = 1;\n\n  this.basic = new MeshBasicMaterial();\n\n  this.fsQuad = new Pass.FullScreenQuad(null);\n};\n\nUnrealBloomPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: UnrealBloomPass,\n\n  dispose: function () {\n    for (var i = 0; i < this.renderTargetsHorizontal.length; i++) {\n      this.renderTargetsHorizontal[i].dispose();\n    }\n\n    for (var i = 0; i < this.renderTargetsVertical.length; i++) {\n      this.renderTargetsVertical[i].dispose();\n    }\n\n    this.renderTargetBright.dispose();\n  },\n\n  setSize: function (width, height) {\n    var resx = Math.round(width / 2);\n    var resy = Math.round(height / 2);\n\n    this.renderTargetBright.setSize(resx, resy);\n\n    for (var i = 0; i < this.nMips; i++) {\n      this.renderTargetsHorizontal[i].setSize(resx, resy);\n      this.renderTargetsVertical[i].setSize(resx, resy);\n\n      this.separableBlurMaterials[i].uniforms[\"texSize\"].value = new Vector2(\n        resx,\n        resy\n      );\n\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    }\n  },\n\n  render: function (renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n    this.oldClearColor.copy(renderer.getClearColor());\n    this.oldClearAlpha = renderer.getClearAlpha();\n    var oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n\n    renderer.setClearColor(this.clearColor, 0);\n\n    if (maskActive) renderer.state.buffers.stencil.setTest(false);\n\n    // Render input to screen\n\n    if (this.renderToScreen) {\n      this.fsQuad.material = this.basic;\n      this.basic.map = readBuffer.texture;\n\n      renderer.setRenderTarget(null);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n    }\n\n    // 1. Extract Bright Areas\n\n    this.highPassUniforms[\"tDiffuse\"].value = readBuffer.texture;\n    this.highPassUniforms[\"luminosityThreshold\"].value = this.threshold;\n    this.fsQuad.material = this.materialHighPassFilter;\n\n    renderer.setRenderTarget(this.renderTargetBright);\n    renderer.clear();\n    this.fsQuad.render(renderer);\n\n    // 2. Blur All the mips progressively\n\n    var inputRenderTarget = this.renderTargetBright;\n\n    for (var i = 0; i < this.nMips; i++) {\n      this.fsQuad.material = this.separableBlurMaterials[i];\n\n      this.separableBlurMaterials[i].uniforms[\"colorTexture\"].value =\n        inputRenderTarget.texture;\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value =\n        UnrealBloomPass.BlurDirectionX;\n      renderer.setRenderTarget(this.renderTargetsHorizontal[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n\n      this.separableBlurMaterials[i].uniforms[\n        \"colorTexture\"\n      ].value = this.renderTargetsHorizontal[i].texture;\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value =\n        UnrealBloomPass.BlurDirectionY;\n      renderer.setRenderTarget(this.renderTargetsVertical[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n\n      inputRenderTarget = this.renderTargetsVertical[i];\n    }\n\n    // Composite All the mips\n\n    this.fsQuad.material = this.compositeMaterial;\n    this.compositeMaterial.uniforms[\"bloomStrength\"].value = this.strength;\n    this.compositeMaterial.uniforms[\"bloomRadius\"].value = this.radius;\n    this.compositeMaterial.uniforms[\n      \"bloomTintColors\"\n    ].value = this.bloomTintColors;\n\n    renderer.setRenderTarget(this.renderTargetsHorizontal[0]);\n    renderer.clear();\n    this.fsQuad.render(renderer);\n\n    // Blend it additively over the input texture\n\n    this.fsQuad.material = this.materialCopy;\n    this.copyUniforms[\n      \"tDiffuse\"\n    ].value = this.renderTargetsHorizontal[0].texture;\n\n    if (maskActive) renderer.state.buffers.stencil.setTest(true);\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(readBuffer);\n      this.fsQuad.render(renderer);\n    }\n\n    // Restore renderer settings\n\n    renderer.setClearColor(this.oldClearColor, this.oldClearAlpha);\n    renderer.autoClear = oldAutoClear;\n  },\n\n  getSeperableBlurMaterial: function (kernelRadius) {\n    return new ShaderMaterial({\n      defines: {\n        KERNEL_RADIUS: kernelRadius,\n        SIGMA: kernelRadius,\n      },\n\n      uniforms: {\n        colorTexture: { value: null },\n        texSize: { value: new Vector2(0.5, 0.5) },\n        direction: { value: new Vector2(0.5, 0.5) },\n      },\n\n      vertexShader:\n        \"varying vec2 vUv;\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvUv = uv;\\n\\\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\n\t\t\t\t}\",\n\n      fragmentShader:\n        \"#include <common>\\\n\t\t\t\tvarying vec2 vUv;\\n\\\n\t\t\t\tuniform sampler2D colorTexture;\\n\\\n\t\t\t\tuniform vec2 texSize;\\\n\t\t\t\tuniform vec2 direction;\\\n\t\t\t\t\\\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\\\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\\n\t\t\t\t}\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\\\n\t\t\t\t\tfloat fSigma = float(SIGMA);\\\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\\\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\\\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\\n\t\t\t\t\t\tfloat x = float(i);\\\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\\\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\\\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\\\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\\\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\\\n\t\t\t\t\t\tweightSum += 2.0 * w;\\\n\t\t\t\t\t}\\\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\\n\t\t\t\t}\",\n    });\n  },\n\n  getCompositeMaterial: function (nMips) {\n    return new ShaderMaterial({\n      defines: {\n        NUM_MIPS: nMips,\n      },\n\n      uniforms: {\n        blurTexture1: { value: null },\n        blurTexture2: { value: null },\n        blurTexture3: { value: null },\n        blurTexture4: { value: null },\n        blurTexture5: { value: null },\n        dirtTexture: { value: null },\n        bloomStrength: { value: 1.0 },\n        bloomFactors: { value: null },\n        bloomTintColors: { value: null },\n        bloomRadius: { value: 0.0 },\n      },\n\n      vertexShader:\n        \"varying vec2 vUv;\\n\\\n\t\t\t\tvoid main() {\\n\\\n\t\t\t\t\tvUv = uv;\\n\\\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\\n\t\t\t\t}\",\n\n      fragmentShader:\n        \"varying vec2 vUv;\\\n\t\t\t\tuniform sampler2D blurTexture1;\\\n\t\t\t\tuniform sampler2D blurTexture2;\\\n\t\t\t\tuniform sampler2D blurTexture3;\\\n\t\t\t\tuniform sampler2D blurTexture4;\\\n\t\t\t\tuniform sampler2D blurTexture5;\\\n\t\t\t\tuniform sampler2D dirtTexture;\\\n\t\t\t\tuniform float bloomStrength;\\\n\t\t\t\tuniform float bloomRadius;\\\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\\\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\\\n\t\t\t\t\\\n\t\t\t\tfloat lerpBloomFactor(const in float factor) { \\\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\\\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\\\n\t\t\t\t}\\\n\t\t\t\t\\\n\t\t\t\tvoid main() {\\\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \\\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\\\n\t\t\t\t}\",\n    });\n  },\n});\n\nUnrealBloomPass.BlurDirectionX = new Vector2(1.0, 0.0);\nUnrealBloomPass.BlurDirectionY = new Vector2(0.0, 1.0);\n\nexport { UnrealBloomPass };\n","/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n","export function range(start, end, step = 1, fromRight = false) {\n  let index = -1,\n    length = Math.max(Math.ceil((end - start) / step), 0),\n    result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n","// import {Vector2} from '../lib/three.module.js';\nimport {Vector2} from 'three';\n\nexport class node {\n   lastStrength = 0;\n   theStrength = 0;\n   targetRange = 0;\n   _range = 0;\n  constructor(baseRange, angle, center) {\n    this.baseRange = baseRange;\n    this.angle = angle;\n    this.center = center;\n  }\n  positionA() {\n\n    const range = this._range + this.baseRange;\n    const x = Math.cos(this.angle * Math.PI / 180) * range;\n    const y = Math.sin(this.angle * Math.PI / 180) * range;\n    return new Vector2(this.center.x + x, this.center.y + y);\n  }\n  positionB() {\n    const range = this._range * -1 + this.baseRange;\n    const x = Math.cos(this.angle * Math.PI / 180) * range;\n    const y = Math.sin(this.angle * Math.PI / 180) * range;\n    return new Vector2(this.center.x + x, this.center.y + y);\n  }\n  strength(newStrength) {\n    this.lastStrength = this.theStrength;\n    this.theStrength = newStrength;\n    this.targetRange = Math.max(this.theStrength - this.lastStrength, 0);\n    if (this.targetRange > this._range) this._range = this.targetRange;\n  }\n  transition(delay) {\n    this._range = Math.max(this._range - delay * this._range * 5, 0);\n  }\n}\n","export function randomRange(a, range) {\n  return a + (Math.random() - 0.5) * range;\n}\n","// import * as THREE from '../lib/three.module.js';\nimport * as THREE from 'three';\nimport {randomRange} from './randomRange.js';\n\nexport  class ILineDistanceOption {\n  startShow;\n  endShow;\n  startHide;\n  endHide;\n}\n\nexport class Triangle {\n  rotate = Math.random() * 360;\n  id = Math.random();\n  distance;\n  rotateSpeed;\n  angle;\n  // public pointA: THREE.Vector3;\n  // public pointB: THREE.Vector3;\n  // public pointC: THREE.Vector3;\n  speed;\n  center;\n  mesh;\n  showDistance;\n  panelMaterial;\n  lineMaterial;\n  panelOpacity = 0.1;\n  line;\n  group;\n  onDelete;\n  constructor(size, center, angle, speed, rotateSpeed, material, lineMaterial, lineDistance, cb) {\n    this.rotateSpeed = rotateSpeed;\n    this.angle = angle;\n    this.speed = speed;\n    this.center = center;\n    this.onDelete = cb;\n    this.distance = lineDistance.startShow;\n    this.showDistance = lineDistance;\n    this.panelMaterial = new THREE.MeshBasicMaterial().copy(material)\n    this.panelMaterial.transparent = true;\n    this.lineMaterial = new THREE.LineBasicMaterial().copy(lineMaterial)\n    this.lineMaterial.transparent = true;\n    const panelGeometry = new THREE.Geometry();\n    const lineGeometry = new THREE.Geometry();\n\n    const vertices = [\n      new THREE.Vector3(randomRange(size, size / 2), randomRange(size, size / 2), randomRange(size, size / 2)),\n      new THREE.Vector3(randomRange(size, size / 2) * -1, randomRange(size, size / 2), randomRange(size, size / 2)-1),\n      new THREE.Vector3(randomRange(size, size / 2) * -1, randomRange(size, size / 2) * -1, randomRange(size, size / 2)-1)\n    ]\n\n    panelGeometry.vertices.push(\n      ...vertices\n    )\n\n    lineGeometry.vertices.push(...[...vertices, vertices[0]]);\n\n    panelGeometry.faces.push(new THREE.Face3(0, 1, 2));\n    panelGeometry.computeFaceNormals();\n    panelGeometry.computeVertexNormals();\n\n    this.line = new THREE.Line(lineGeometry, this.lineMaterial)\n    this.mesh = new THREE.Mesh(panelGeometry, this.panelMaterial);\n    this.group = new THREE.Group();\n    this.translateOnAxis(this.translate(this.distance), 1);\n    this.group.add(this.line);\n    this.group.add(this.mesh);\n    this.rotateZ(this.rotate);\n    this.updatePosition(0);\n  }\n\n  rotateZ(angle) {\n    this.mesh.geometry.rotateZ(angle);\n    this.line.geometry.rotateZ(angle);\n  }\n\n  translate(distance) {\n    const x = Math.cos(this.angle * Math.PI / 180) * distance;\n    const y = Math.sin(this.angle * Math.PI / 180) * distance;\n    const z =  distance*(0.5-Math.random())*2;\n    return new THREE.Vector3(x, y, z);\n  }\n\n  translateOnAxis(axis, distance) {\n    this.group.translateOnAxis(axis, distance);\n  }\n\n  updatePosition(delay) {\n    this.translateOnAxis(this.translate(delay * this.speed), 1);\n    this.distance += delay * this.speed;\n    this.rotateZ(this.rotateSpeed * delay);\n    this.panelMaterial.opacity = this.opacity(this.distance, this.showDistance) * this.panelOpacity;\n    this.lineMaterial.opacity = this.opacity(this.distance, this.showDistance);\n    if (this.distance > this.showDistance.endHide) {\n      this.delete();\n    }\n  }\n\n  delete() {\n    this.onDelete(this);\n    this.mesh.geometry.dispose();\n    this.line.geometry.dispose();\n  }\n\n  opacity(distance, showDistance) {\n    if (this.distance < showDistance.endShow) {\n      return (this.distance - showDistance.startShow) / (showDistance.endShow - showDistance.startShow);\n    } else if (this.distance > showDistance.startHide) {\n      return (showDistance.endHide - this.distance) / (showDistance.endHide - showDistance.startHide);\n    } else {\n      return 1;\n    }\n  }\n\n  transition(delay) {\n    this.updatePosition(delay);\n  }\n}\n","<template>\n  <div id=\"app\">\n    <div class=\"file-select-btn\" @click=\"$refs.fileId.click()\">\n      选择音乐\n      <input ref=\"fileId\" type=\"file\" class=\"file-input\" @change=\"getAudio\" />\n    </div>\n  </div>\n</template>\n\n<script>\n// import * as THREE from './lib/three.module.js';\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"./lib/OrbitControls.js\";\nimport { GUI } from \"./lib/dat.gui.module.js\";\n\nimport { EffectComposer } from \"./lib/EffectComposer.js\";\nimport { RenderPass } from \"./lib/RenderPass.js\";\nimport { UnrealBloomPass } from \"./lib/UnrealBloomPass.js\";\nimport { ShaderPass } from \"./lib/ShaderPass.js\";\nimport { CopyShader } from \"./lib/CopyShader.js\";\nimport Stats from \"./lib/stats.module.js\";\nimport { range } from \"./components/range\";\nimport { node } from \"./components/node\";\nimport { randomRange } from \"./components/randomRange\";\nimport { Triangle } from \"./components/Triangle\";\n\nlet renderer, scene, camera, controls, stats, composer;\nlet gui = {\n  R: 0,\n  G: 175,\n  B: 10,\n  TrianglesBgColor: 0x03a9f4,\n  TrianglesLineColor: 0x03a9f4,\n  lineColor: 0x00ffff\n};\nlet audio, analyser; // 音频\nlet linesGroup,\n  outLine,\n  inLine,\n  barLine = [],\n  barNodes; // 线\nlet barGroup; // 柱子\nlet Triangles = [],\n  TriangleGroup;\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      positionZ: 80,\n      N: 256,\n      clock: new THREE.Clock(),\n      scale: 1\n    };\n  },\n  methods: {\n    init() {\n      renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n      renderer.setClearAlpha(0);\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      document.body.appendChild(renderer.domElement);\n      scene = new THREE.Scene();\n      // scene.background = new THREE.TextureLoader().load(require('@/assets/bg2.jpg'));\n\n      // {\n      //   scene.background = new THREE.CubeTextureLoader().load([\n      //     require('@/assets/skybox/right.jpg'),\n      //     require('@/assets/skybox/left.jpg'),\n      //     require('@/assets/skybox/top.jpg'),\n      //     require('@/assets/skybox/bottom.jpg'),\n      //     require('@/assets/skybox/front.jpg'),\n      //     require('@/assets/skybox/back.jpg')\n      //   ]);\n      // }\n      camera = new THREE.PerspectiveCamera(\n        75,\n        window.innerWidth / window.innerHeight,\n        1,\n        10000\n      );\n      camera.position.z = this.positionZ;\n      window.addEventListener(\"resize\", this.onWindowResize, false);\n\n      this.audioLines(20, this.N);\n      this.audioBars(25, this.N / 2); // 添加音频柱子\n\n      TriangleGroup = new THREE.Group();\n\n      setInterval(this.addTriangle.bind(this), 500);\n      scene.add(TriangleGroup);\n\n      // 加载音频 start\n      let listener = new THREE.AudioListener(); // 监听者\n      audio = new THREE.Audio(listener); // 非位置音频对象\n      let audioUrl = require(\"../static/audio.mp3\");\n      this.audioLoad(audioUrl);\n      // 加载音频 end\n\n      this.initLight();\n      this.initControls();\n\n      this.initGui();\n      this.initBloomPass();\n\n      this.initStats();\n      this.animate();\n    },\n\n    renderGeometries(vertices) {\n      const res = [];\n      vertices = vertices.concat(vertices[0]);\n      vertices.forEach(value => {\n        res.push(value.x, value.y, 0);\n      });\n      return new THREE.BufferAttribute(new Float32Array(res), 3);\n    },\n    updateCircle() {\n      if (barNodes) {\n        linesGroup.scale.set(this.scale, this.scale, this.scale);\n        const geometryA = outLine.geometry;\n        const AttributeA = geometryA.getAttribute(\"position\");\n        const geometryB = inLine.geometry;\n        const AttributeB = geometryB.getAttribute(\"position\");\n\n        const positions = barNodes.map(value => {\n          return [value.positionA(), value.positionB()];\n        });\n        positions.forEach((position, index) => {\n          AttributeA.set([position[0].x, position[0].y], index * 3);\n          AttributeB.set([position[1].x, position[1].y], index * 3);\n          const geometry = barLine[index].geometry;\n          const Attribute = geometry.getAttribute(\"position\");\n          Attribute.set(\n            [position[0].x, position[0].y, 0, position[1].x, position[1].y, 0],\n            0\n          );\n          Attribute.needsUpdate = true;\n        });\n        AttributeA.set(\n          [AttributeA.array[0], AttributeA.array[1]],\n          positions.length * 3\n        );\n        AttributeB.set(\n          [AttributeB.array[0], AttributeB.array[1]],\n          positions.length * 3\n        );\n        AttributeA.needsUpdate = true;\n        AttributeB.needsUpdate = true;\n      }\n    },\n    // 音频线\n    audioLines(radius, countData) {\n      barNodes = range(0, countData).map(index => {\n        return new node(\n          radius,\n          ((index / countData) * 360 + 45) % 360,\n          new THREE.Vector2(0, 0)\n        );\n      });\n      const lineMaterial = new THREE.LineBasicMaterial({\n        color: gui.lineColor\n      });\n      barLine = range(0, countData).map(index => {\n        return new THREE.Line(\n          new THREE.BufferGeometry().setAttribute(\n            \"position\",\n            this.renderGeometries([\n              barNodes[index].positionA(),\n              barNodes[index].positionB()\n            ])\n          ),\n          lineMaterial\n        );\n      });\n      outLine = new THREE.Line(\n        new THREE.BufferGeometry().setAttribute(\n          \"position\",\n          this.renderGeometries(barNodes.map(node => node.positionA()))\n        ),\n        lineMaterial\n      );\n\n      inLine = new THREE.Line(\n        new THREE.BufferGeometry().setAttribute(\n          \"position\",\n          this.renderGeometries(barNodes.map(node => node.positionB()))\n        ),\n        lineMaterial\n      );\n\n      linesGroup = new THREE.Group();\n      linesGroup.add(outLine);\n      linesGroup.add(inLine);\n      barLine.forEach(line => linesGroup.add(line));\n      scene.add(linesGroup);\n    },\n    addTriangle() {\n      const material = new THREE.MeshBasicMaterial({\n        color: gui.TrianglesBgColor\n      });\n      const lineMaterial = new THREE.LineBasicMaterial({\n        color: gui.TrianglesLineColor\n      });\n      // const point = this.Triangles.length;\n      const triangle = this.makeTriangle(material, lineMaterial, t => {\n        Triangles = Triangles.filter(triangle => {\n          return triangle !== t;\n        });\n        TriangleGroup.remove(t.group);\n      });\n      TriangleGroup.add(triangle.group);\n\n      Triangles.push(triangle);\n    },\n    makeTriangle(material, lineMaterial, t) {\n      const triangle = new Triangle(\n        2,\n        new THREE.Vector3(0, 0, 0),\n        Math.random() * 360,\n        randomRange(5, 1),\n        randomRange(0.1, 0.02),\n        material,\n        lineMaterial,\n        {\n          startShow: 15,\n          endShow: 30,\n          startHide: 60,\n          endHide: 70\n        },\n        t\n      );\n      return triangle;\n    },\n    // 音频柱子\n    audioBars(radius, countData) {\n      barGroup = new THREE.Group();\n      let R = radius;\n      let N = countData;\n      for (let i = 0; i < N; i++) {\n        let minGroup = new THREE.Group();\n        let box = new THREE.BoxGeometry(1, 1, 1);\n        let material = new THREE.MeshPhongMaterial({\n          color: 0x00ffff\n        }); // 材质对象\n        let m = i;\n        let mesh = new THREE.Mesh(box, material);\n\n        mesh.position.y = 0.5;\n        minGroup.add(mesh);\n        minGroup.position.set(\n          Math.sin(((m * Math.PI) / N) * 2) * R,\n          Math.cos(((m * Math.PI) / N) * 2) * R,\n          0\n        );\n        minGroup.rotation.z = ((-m * Math.PI) / N) * 2;\n        barGroup.add(minGroup);\n      }\n      scene.add(barGroup);\n    },\n    // 辉光\n    initBloomPass() {\n      // 辉光\n      let params = {\n        exposure: 0.5,\n        bloomStrength: 1,\n        bloomThreshold: 0,\n        bloomRadius: 0.8\n      };\n      let renderScene = new RenderPass(scene, camera);\n      let bloomPass = new UnrealBloomPass(\n        new THREE.Vector2(window.innerWidth, window.innerHeight),\n        1.5,\n        0.2,\n        0\n      );\n      bloomPass.threshold = params.bloomThreshold;\n      bloomPass.strength = params.bloomStrength;\n      bloomPass.radius = params.bloomRadius;\n\n      composer = new EffectComposer(renderer);\n      // console.log(composer)\n      const copyShader = new ShaderPass(CopyShader);\n      copyShader.renderToScreen = true;\n      composer.addPass(renderScene);\n      composer.addPass(bloomPass);\n      composer.addPass(copyShader);\n\n      // 辉光 end\n    },\n    // 动态渲染\n    animate() {\n      stats.update();\n      controls.update();\n\n      if (analyser) {\n        // 获得频率数据N个\n        let arr = analyser.getFrequencyData();\n        if (barGroup) {\n          barGroup.rotation.z += 0.002;\n          barGroup.scale.set(this.scale, this.scale, this.scale);\n          barGroup.children.forEach((elem, index) => {\n            if (gui.R) {\n              elem.children[0].material.color.r = arr[index] / gui.R;\n            }\n            if (gui.G) {\n              elem.children[0].material.color.g = arr[index] / gui.G;\n            }\n            if (gui.B) {\n              elem.children[0].material.color.b = arr[index] / gui.B;\n            }\n            if (arr[index] === 0) {\n              elem.scale.set(0, 0, 0);\n            } else {\n              elem.scale.set(1, arr[index] / 20 + 0.1, 1);\n            }\n          });\n        }\n        const Delta = this.clock.getDelta();\n        barNodes.forEach((node, index, array) => {\n          node.strength(arr[index % array.length] * 0.1);\n          node.transition(Delta);\n        });\n        this.scale = 1 + arr[Math.ceil(arr.length * 0.05)] / 500;\n        this.updateCircle(arr);\n        Triangles.forEach(triangle => triangle.transition(Delta));\n      }\n\n      // renderer.render(scene, camera);\n      composer.render();\n      requestAnimationFrame(this.animate);\n    },\n    // 自适应屏幕\n    onWindowResize() {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      composer.setSize(window.innerWidth, window.innerHeight);\n    },\n    // 鼠标控制\n    initControls() {\n      controls = new OrbitControls(camera, renderer.domElement);\n      // 如果使用animate方法时，将此函数删除\n      //controls.addEventListener( 'change', render );\n      // 使动画循环使用时阻尼或自转 意思是否有惯性\n      controls.enableDamping = true;\n      //动态阻尼系数 就是鼠标拖拽旋转灵敏度\n      //controls.dampingFactor = 0.25;\n      //是否可以缩放\n      controls.enableZoom = true;\n      //是否自动旋转\n      controls.autoRotate = false;\n      //设置相机距离原点的最远距离\n      controls.minDistance = 1;\n      //设置相机距离原点的最远距离\n      controls.maxDistance = 200;\n      //是否开启右键拖拽\n      controls.enablePan = false;\n    },\n    // FPS显示\n    initStats() {\n      stats = new Stats();\n      document.body.appendChild(stats.dom);\n    },\n    // GUI控制显示\n    initGui() {\n      //声明一个保存需求修改的相关数据的对象\n      let datGui = new GUI();\n      //将设置属性添加到gui当中，gui.add(对象，属性，最小值，最大值）\n      datGui.add(gui, \"R\", 0, 180);\n      datGui.add(gui, \"G\", 0, 180);\n      datGui.add(gui, \"B\", 0, 180);\n      datGui.addColor(gui, \"TrianglesBgColor\").onChange(function() {\n        TriangleGroup.traverse(function(child) {\n          if (child.isMesh)\n            child.material = new THREE.MeshPhongMaterial({\n              color: gui.TrianglesBgColor\n            });\n        });\n      });\n      datGui.addColor(gui, \"TrianglesLineColor\").onChange(function() {\n        TriangleGroup.traverse(function(child) {\n          if (child.isLine)\n            child.material = new THREE.LineBasicMaterial({\n              color: gui.TrianglesLineColor\n            });\n        });\n      });\n      datGui.addColor(gui, \"lineColor\").onChange(function() {\n        linesGroup.traverse(function(child) {\n          if (child.isLine)\n            child.material = new THREE.LineBasicMaterial({\n              color: gui.lineColor\n            });\n        });\n      });\n    },\n    // 环境光和平行光\n    initLight() {\n      scene.add(new THREE.AmbientLight(0x444444));\n      let light = new THREE.PointLight(0xffffff);\n      light.position.set(80, 100, 50);\n      //告诉平行光需要开启阴影投射\n      light.castShadow = true;\n      scene.add(light);\n    },\n    //  音频加载播放\n    audioLoad(url) {\n      let _that = this;\n\n      let audioLoader = new THREE.AudioLoader(); // 音频加载器\n      audioLoader.load(url, function(AudioBuffer) {\n        if (audio.isPlaying) {\n          audio.stop();\n          audio.setBuffer();\n        }\n        audio.setBuffer(AudioBuffer); // 音频缓冲区对象关联到音频对象audio\n        audio.setLoop(true); //是否循环\n        audio.setVolume(1); //音量\n        audio.play(); //播放\n        // 音频分析器和音频绑定，可以实时采集音频时域数据进行快速傅里叶变换\n        analyser = new THREE.AudioAnalyser(audio, _that.N * 2);\n      });\n    },\n    // 选择音频\n    getAudio() {\n      let _that = this;\n      let objFile = this.$refs.fileId;\n      if (objFile.value === \"\") {\n        return false;\n      }\n      if (window.FileReader) {\n        let reader = new FileReader();\n        reader.readAsDataURL(objFile.files[0]);\n        reader.onloadend = function(e) {\n          _that.audioLoad(e.target.result);\n        };\n      }\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};\n</script>\n\n<style lang=\"scss\">\nbody {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  height: 100%;\n}\n\n.file-select-btn {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 70px;\n  height: 26px;\n\n  box-shadow: 0 0 10px #c500e5 inset;\n  line-height: 26px;\n  color: #c500e5;\n  font-size: 12px;\n  text-align: center;\n  cursor: pointer;\n}\n\n.file-select-btn .file-input {\n  display: none;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2209ec46&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n// import Home from \"../views/Home.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  // {\n  //   path: \"/\",\n  //   name: \"Home\",\n  //   component: Home\n  // },\n  // {\n  //   path: \"/about\",\n  //   name: \"About\",\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () =>\n  //     import(/* webpackChunkName: \"about\" */ \"../views/About.vue\")\n  // }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\nexport default router;\n","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  router,\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"media/audio.d908fee6.mp3\";"],"sourceRoot":""}